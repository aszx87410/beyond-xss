"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[951],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>d});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},p=Object.keys(e);for(a=0;a<p.length;a++)t=p[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)t=p[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),s=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(i.Provider,{value:n},e.children)},m="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,p=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=s(t),u=r,d=m["".concat(i,".").concat(u)]||m[u]||k[u]||p;return t?a.createElement(d,o(o({ref:n},c),{},{components:t})):a.createElement(d,o({ref:n},c))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var p=t.length,o=new Array(p);o[0]=u;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<p;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},8536:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>k,frontMatter:()=>p,metadata:()=>l,toc:()=>s});var a=t(7462),r=(t(7294),t(3905));const p={sidebar_position:14},o="\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3092\u60aa\u7528\u3057\u305f\u653b\u6483\uff1aPrototype Pollution",l={unversionedId:"ch3/prototype-pollution",id:"ch3/prototype-pollution",title:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3092\u60aa\u7528\u3057\u305f\u653b\u6483\uff1aPrototype Pollution",description:"\u6bce\u65e5JavaScript\u3092\u6271\u3063\u3066\u3044\u308b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u3001\u4ed5\u4e8b\u3067\u76f4\u63a5\u4f7f\u3046\u3053\u3068\u306f\u306a\u304f\u3066\u3082\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3068\u3044\u3046\u8a00\u8449\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u3067\u3057\u3087\u3046\u3002",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/ch3/14-prototype-pollution.md",sourceDirName:"ch3",slug:"/ch3/prototype-pollution",permalink:"/beyond-xss/ja/ch3/prototype-pollution",draft:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14},sidebar:"tutorialSidebar",previous:{title:"\u653b\u6483\u306bJavaScript\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306a\u3093\u3066\u8ab0\u304c\u8a00\u3063\u305f\uff1f",permalink:"/beyond-xss/ja/ch3/attack-without-js"},next:{title:"HTML\u3082JavaScript\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\uff1fDOM clobbering\u5165\u9580",permalink:"/beyond-xss/ja/ch3/dom-clobbering"}},i={},s=[{value:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3",id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3",level:2},{value:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3059\u308b",id:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3059\u308b",level:2},{value:"\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3057\u305f\u5f8c\u306b\u4f55\u304c\u3067\u304d\u308b\u304b\uff1f",id:"\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3057\u305f\u5f8c\u306b\u4f55\u304c\u3067\u304d\u308b\u304b",level:2},{value:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306f\u3069\u306e\u3088\u3046\u306b\u767a\u751f\u3059\u308b\u306e\u304b\uff1f",id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306f\u3069\u306e\u3088\u3046\u306b\u767a\u751f\u3059\u308b\u306e\u304b",level:2},{value:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u30b9\u30af\u30ea\u30d7\u30c8\u30ac\u30b8\u30a7\u30c3\u30c8",id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u30b9\u30af\u30ea\u30d7\u30c8\u30ac\u30b8\u30a7\u30c3\u30c8",level:2},{value:"\u4e2d\u9593\u307e\u3068\u3081",id:"\u4e2d\u9593\u307e\u3068\u3081",level:2}],c={toc:s},m="wrapper";function k(e){let{components:n,...p}=e;return(0,r.kt)(m,(0,a.Z)({},c,p,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3092\u60aa\u7528\u3057\u305f\u653b\u6483prototype-pollution"},"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3092\u60aa\u7528\u3057\u305f\u653b\u6483\uff1aPrototype Pollution"),(0,r.kt)("p",null,"\u6bce\u65e5JavaScript\u3092\u6271\u3063\u3066\u3044\u308b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u3001\u4ed5\u4e8b\u3067\u76f4\u63a5\u4f7f\u3046\u3053\u3068\u306f\u306a\u304f\u3066\u3082\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u3068\u3044\u3046\u8a00\u8449\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u3067\u3057\u3087\u3046\u3002"),(0,r.kt)("p",null,"\u3057\u304b\u3057\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u304c\u653b\u6483\u624b\u6bb5\u306e1\u3064\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u308b\u3053\u3068\u3092\u3054\u5b58\u77e5\u3067\u3057\u305f\u304b\uff1f"),(0,r.kt)("p",null,"JavaScript\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u591a\u304f\u306e\u5b9f\u884c\u30d5\u30ed\u30fc\u306b\u9593\u63a5\u7684\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u65e2\u5b58\u306e\u30b3\u30fc\u30c9\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u5f37\u529b\u306a\u8106\u5f31\u6027\u3092\u751f\u307f\u51fa\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002"),(0,r.kt)("p",null,"\u3053\u306e\u30e6\u30cb\u30fc\u30af\u3067\u5f37\u529b\u306a\u8106\u5f31\u6027\u3092\u4e00\u7dd2\u306b\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01"),(0,r.kt)("h2",{id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3"},"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3"),(0,r.kt)("p",null,"JavaScript\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u306f\u3001\u4ed6\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u73fe\u5728\u898b\u3089\u308c\u308b ",(0,r.kt)("inlineCode",{parentName:"p"},"class")," \u69cb\u6587\u306fES6\u4ee5\u964d\u306b\u5c0e\u5165\u3055\u308c\u305f\u3082\u306e\u3067\u3059\u3002\u305d\u308c\u4ee5\u524d\u306f\u3001\u540c\u3058\u76ee\u7684\u3067 ",(0,r.kt)("inlineCode",{parentName:"p"},"prototype")," \u304c\u4f7f\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u7d99\u627f\u3068\u3082\u547c\u3070\u308c\u3066\u3044\u307e\u3057\u305f\u3002"),(0,r.kt)("p",null,"\u4f8b\u3092\u6319\u3052\u307e\u3057\u3087\u3046\u3002\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u969b\u306b\u3001\u305d\u308c\u3089\u304c\u3069\u3053\u304b\u3089\u6765\u3066\u3044\u308b\u306e\u304b\u7591\u554f\u306b\u601d\u3063\u305f\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304b\uff1f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var str = "a";\nvar str2 = str.repeat(5); // repeat\u95a2\u6570\u306f\u3069\u3053\u304b\u3089\u6765\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n')),(0,r.kt)("p",null,"\u3055\u3089\u306b\u30012\u3064\u306e\u7570\u306a\u308b\u6587\u5b57\u5217\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u30e1\u30bd\u30c3\u30c9\u304c\u5b9f\u969b\u306b\u306f\u540c\u3058\u95a2\u6570\u3067\u3042\u308b\u3053\u3068\u306b\u6c17\u3065\u304f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var str = "a";\nvar str2 = "b";\nconsole.log(str.repeat === str2.repeat); // true\n')),(0,r.kt)("p",null,"\u307e\u305f\u306f\u3001MDN\u3092\u8abf\u3079\u305f\u3053\u3068\u304c\u3042\u308b\u306a\u3089\u3001\u30bf\u30a4\u30c8\u30eb\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u3067\u306f\u306a\u304f ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype.repeat")," \u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3067\u3057\u3087\u3046\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"string.prototype.repeat",src:t(5160).Z,width:"2338",height:"606"})),(0,r.kt)("p",null,"\u305d\u3057\u3066\u3001\u3053\u308c\u3089\u3059\u3079\u3066\u306f\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"str.repeat")," \u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"str")," \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306b\u5b9f\u969b\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3067\u306f\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u306f\u821e\u53f0\u88cf\u3067\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3057\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,r.kt)("p",null,"\u30b9\u30b3\u30fc\u30d7\u306e\u6982\u5ff5\u3092\u899a\u3048\u3066\u3044\u307e\u3059\u304b\uff1f\u5909\u6570\u3092\u4f7f\u7528\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30b3\u30fc\u30d7\u3067\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u306f\u6b21\u306e\u5916\u5074\u306e\u30b9\u30b3\u30fc\u30d7\u3092\u63a2\u3057\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u30b9\u30b3\u30fc\u30d7\u306b\u5230\u9054\u3059\u308b\u307e\u3067\u7d9a\u3051\u307e\u3059\u3002\u3053\u308c\u306f\u30b9\u30b3\u30fc\u30d7\u30c1\u30a7\u30fc\u30f3\u3068\u547c\u3070\u308c\u307e\u3059\u3002JavaScript\u30a8\u30f3\u30b8\u30f3\u306f\u3053\u306e\u30c1\u30a7\u30fc\u30f3\u3092\u305f\u3069\u3063\u3066\u3001\u4e00\u756a\u4e0a\u307e\u3067\u691c\u7d22\u3092\u7d9a\u3051\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u306e\u6982\u5ff5\u306f\u5168\u304f\u540c\u3058\u3067\u3059\u304c\u3001\u9055\u3044\u306f\u300cJavaScript\u30a8\u30f3\u30b8\u30f3\u306f\u6b21\u306b\u3069\u3053\u3092\u63a2\u3059\u3079\u304d\u304b\u3092\u77e5\u308b\u65b9\u6cd5\u300d\u3067\u3059\u3002JavaScript\u30a8\u30f3\u30b8\u30f3\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"str")," \u4e0a\u3067 ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u95a2\u6570\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u3001\u3069\u3053\u3092\u63a2\u3059\u3079\u304d\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,r.kt)("p",null,"JavaScript\u306b\u306f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__")," \u3068\u547c\u3070\u308c\u308b\u96a0\u3057\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u3042\u308a\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u304c\u6b21\u306b\u63a2\u3059\u3079\u304d\u5834\u6240\u306e\u5024\u3092\u683c\u7d0d\u3057\u3066\u3044\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var str = "";\nconsole.log(str.__proto__); // String.prototype\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"str.__proto__")," \u304c\u6307\u3059\u3082\u306e\u306f\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"str")," \u4e0a\u3067\u4f55\u304b\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u63a2\u3059\u3079\u304d\u300c\u6b21\u306e\u30ec\u30d9\u30eb\u300d\u3067\u3042\u308a\u3001\u3053\u306e\u6b21\u306e\u30ec\u30d9\u30eb\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype")," \u306b\u306a\u308a\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3053\u308c\u304c\u3001MDN\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u3068\u66f8\u304b\u305a\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype.repeat")," \u3068\u66f8\u304f\u7406\u7531\u3067\u3059\u3002\u3053\u308c\u304crepeat\u95a2\u6570\u306e\u5b8c\u5168\u306a\u540d\u524d\u3067\u3042\u308a\u3001\u3053\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u95a2\u6570\u306f\u5b9f\u969b\u306b\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype")," \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e0a\u306e\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u5b58\u5728\u3057\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3057\u305f\u304c\u3063\u3066\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"str.repeat")," \u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u3001\u5b9f\u969b\u306b\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype.repeat")," \u3092\u547c\u3073\u51fa\u3057\u3066\u304a\u308a\u3001\u3053\u308c\u304c\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u306e\u539f\u7406\u3068\u52d5\u4f5c\u3067\u3059\u3002"),(0,r.kt)("p",null,"\u6587\u5b57\u5217\u4ee5\u5916\u306e\u3082\u306e\u306b\u3082\u540c\u3058\u3053\u3068\u304c\u5f53\u3066\u306f\u307e\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var obj = {};\nconsole.log(obj.a); // undefined\nconsole.log(obj.toString); // \u0192 toString() { [native code] }\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"obj")," \u304c\u7a7a\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001\u306a\u305c ",(0,r.kt)("inlineCode",{parentName:"p"},"obj.toString")," \u304c\u5b58\u5728\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u305d\u308c\u306f\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"obj")," \u4e0a\u3067\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"obj.__proto__")," \u3092\u63a2\u3057\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"obj.__proto__")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype")," \u3092\u6307\u3057\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"obj.toString")," \u306f\u6700\u7d42\u7684\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.toString")," \u3092\u898b\u3064\u3051\u307e\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var obj = {};\nconsole.log(obj.toString === Object.prototype.toString); // true\n")),(0,r.kt)("h2",{id:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3059\u308b"},"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3059\u308b"),(0,r.kt)("p",null,"\u6587\u5b57\u5217\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype"),"\u3001\u6570\u5024\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"Number.prototype"),"\u3001\u914d\u5217\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"Array.prototype")," \u3067\u3059\u3002\u3053\u308c\u3089\u306e\u95a2\u9023\u4ed8\u3051\u306f\u3001\u3053\u308c\u3089\u306e\u7a2e\u985e\u306e\u3082\u306e\u304c\u540c\u3058\u95a2\u6570\u3092\u5171\u6709\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u3059\u3067\u306b\u4e8b\u524d\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u5404\u6587\u5b57\u5217\u304c\u72ec\u81ea\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u95a2\u6570\u3092\u6301\u3063\u3066\u3044\u305f\u5834\u5408\u3001100\u4e07\u500b\u306e\u6587\u5b57\u5217\u306b\u5bfe\u3057\u3066100\u4e07\u500b\u306e\u7570\u306a\u308b ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u95a2\u6570\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u305d\u308c\u3089\u306f\u3059\u3079\u3066\u540c\u3058\u3053\u3068\u3092\u884c\u3044\u307e\u3059\u3002\u305d\u308c\u306f\u5408\u7406\u7684\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3088\u306d\uff1f\u3057\u305f\u304c\u3063\u3066\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"repeat")," \u3092 ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype")," \u306b\u914d\u7f6e\u3067\u304d\u308b\u305f\u3081\u3001\u3053\u306e\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3059\u3079\u3066\u306e\u6587\u5b57\u5217\u306f\u540c\u3058\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u540c\u3058\u95a2\u6570\u3068\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306b\u3001\u95a2\u6570\u304c\u7570\u306a\u308b\u6587\u5b57\u5217\u3092\u3069\u306e\u3088\u3046\u306b\u533a\u5225\u3067\u304d\u308b\u306e\u304b\u7591\u554f\u306b\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002"),(0,r.kt)("p",null,"\u7b54\u3048\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"this")," \u3067\u3059\u3002\u4f8b\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'String.prototype.first = function () {\n  return this[0];\n};\n\nconsole.log("".first()); // undefined\nconsole.log("abc".first()); // a\n')),(0,r.kt)("p",null,"\u307e\u305a\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype")," \u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"first")," \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u3057\u305f\u304c\u3063\u3066\u3001",(0,r.kt)("inlineCode",{parentName:"p"},'"".first')," \u3092\u547c\u3073\u51fa\u3059\u3068\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__")," \u3092\u4ecb\u3057\u3066 ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype")," \u3092\u691c\u7d22\u3057\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype.first")," \u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u898b\u3064\u3051\u3066\u3001\u3053\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u307e\u305f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"this")," \u306e\u30eb\u30fc\u30eb\u306b\u3088\u308a\u3001",(0,r.kt)("inlineCode",{parentName:"p"},'"".first()')," \u3068\u8a18\u8ff0\u3057\u305f\u5834\u5408\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"first")," \u5185\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"this")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},'""')," \u306b\u306a\u308a\u307e\u3059\u3002",(0,r.kt)("inlineCode",{parentName:"p"},'"abc".first()')," \u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u5834\u5408\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"first")," \u5185\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"this")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},'"abc"')," \u306b\u306a\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"this")," \u3092\u4f7f\u7528\u3057\u3066\u8ab0\u304c\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u304b\u3092\u533a\u5225\u3067\u304d\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u4e0a\u8a18\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype.first")," \u306e\u8a18\u8ff0\u65b9\u6cd5\u306f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"String")," \u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u3092\u76f4\u63a5\u5909\u66f4\u3057\u3001\u3059\u3079\u3066\u306e\u6587\u5b57\u5217\u304c\u4f7f\u7528\u3067\u304d\u308b\u65b0\u3057\u3044\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u4fbf\u5229\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u958b\u767a\u3067\u306f\u63a8\u5968\u3055\u308c\u307e\u305b\u3093\u3002\u300c\u6240\u6709\u3057\u3066\u3044\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5909\u66f4\u3057\u306a\u3044\u300d\u3068\u3044\u3046\u8a00\u8449\u304c\u3042\u308a\u307e\u3059\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://humanwhocodes.com/blog/2010/03/02/maintainable-javascript-dont-modify-objects-you-down-own/"},"Don't modify objects you don't own"),"\u3002\u4f8b\u3048\u3070\u3001MooTools\u306f\u540c\u69d8\u306e\u3053\u3068\u3092\u884c\u3063\u305f\u305f\u3081\u3001\u914d\u5217\u30e1\u30bd\u30c3\u30c9\u306e\u540d\u524d\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u524d\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://blog.huli.tw/2019/11/26/en/dont-break-web-smooshgate-and-keygen/"},"Don\u2019t break the Web\uff1aSmooshGate\u3068keygen\u306e\u30b1\u30fc\u30b9\u30b9\u30bf\u30c7\u30a3"),"\u3002"),(0,r.kt)("p",null,"\u3055\u3089\u306b\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype")," \u3092\u5909\u66f4\u3067\u304d\u308b\u305f\u3081\u3001\u5f53\u7136\u306a\u304c\u3089 ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype")," \u3082\u6b21\u306e\u3088\u3046\u306b\u5909\u66f4\u3067\u304d\u307e\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Object.prototype.a = 123;\nvar obj = {};\nconsole.log(obj.a); // 123\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype")," \u304c\u5909\u66f4\u3055\u308c\u305f\u305f\u3081\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"obj.a")," \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001JavaScript\u30a8\u30f3\u30b8\u30f3\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"obj")," \u4e0a\u306b\u30d7\u30ed\u30d1\u30c6\u30a3 ",(0,r.kt)("inlineCode",{parentName:"p"},"a")," \u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u305f\u3081\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"obj.__proto__"),"\u3001\u3064\u307e\u308a ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype")," \u3092\u691c\u7d22\u3057\u3001\u305d\u3053\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"a")," \u3092\u898b\u3064\u3051\u3066\u305d\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u8106\u5f31\u6027\u304c\u3042\u308a\u3001\u653b\u6483\u8005\u304c\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u4e0a\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3067\u304d\u308b\u5834\u5408\u3001\u305d\u308c\u306f\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3068\u547c\u3070\u308c\u307e\u3059\u3002\u6c5a\u67d3\u306f\u6c5a\u67d3\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.a = 123")," \u3092\u4f7f\u7528\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u4e0a\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"a")," \u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u300c\u6c5a\u67d3\u300d\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306b\u4e88\u671f\u3057\u306a\u3044\u52d5\u4f5c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3067\u306f\u3001\u3053\u306e\u6c5a\u67d3\u306e\u7d50\u679c\u306f\u4f55\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,r.kt)("h2",{id:"\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3057\u305f\u5f8c\u306b\u4f55\u304c\u3067\u304d\u308b\u304b"},"\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3057\u305f\u5f8c\u306b\u4f55\u304c\u3067\u304d\u308b\u304b\uff1f"),(0,r.kt)("p",null,"\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u306b\u691c\u7d22\u6a5f\u80fd\u304c\u3042\u308a\u3001\u30af\u30a8\u30ea\u6587\u5b57\u5217\u304b\u3089 ",(0,r.kt)("inlineCode",{parentName:"p"},"q")," \u306e\u5024\u3092\u53d6\u5f97\u3057\u3001\u6b21\u306e\u3088\u3046\u306b\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u3068\u3057\u307e\u3059\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"search",src:t(415).Z,width:"1412",height:"328"})),(0,r.kt)("p",null,"\u3053\u306e\u6a5f\u80fd\u306e\u30b3\u30fc\u30c9\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// \u30af\u30a8\u30ea\u6587\u5b57\u5217\u3092\u53d6\u5f97\u3057\u307e\u3059\nvar qs = new URLSearchParams(location.search.slice(1));\n\n// \u753b\u9762\u306b\u8868\u793a\u3057\u3001XSS\u3092\u907f\u3051\u308b\u305f\u3081\u306binnerText\u3092\u4f7f\u7528\u3057\u307e\u3059\ndocument.body.appendChild(\n  createElement({\n    tag: "h2",\n    innerText: `Search result for ${qs.get("q")}`,\n  })\n);\n\nfunction createElement(config) {\n  const element = document.createElement(config.tag);\n  if (config.innerHTML) {\n    element.innerHTML = config.innerHTML;\n  } else {\n    element.innerText = config.innerText;\n  }\n  return element;\n}\n')),(0,r.kt)("p",null,"\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3088\u306d\uff1f\u3044\u304f\u3064\u304b\u306e\u624b\u9806\u3092\u7c21\u7565\u5316\u3057\u3001\u63d0\u4f9b\u3055\u308c\u305f\u69cb\u6210\u306b\u57fa\u3065\u3044\u3066\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"createElement")," \u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002XSS\u3092\u9632\u3050\u305f\u3081\u306b\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"innerHTML")," \u306e\u4ee3\u308f\u308a\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"innerText")," \u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\u3057\u305f\u304c\u3063\u3066\u3001XSS\u306e\u30ea\u30b9\u30af\u306f\u306a\u3044\u306f\u305a\u3067\u3059\uff01"),(0,r.kt)("p",null,"\u6b63\u3057\u3044\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u653b\u6483\u8005\u304c\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u4e0a\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3067\u304d\u308b\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u8106\u5f31\u6027\u304c\u3042\u3063\u305f\u5834\u5408\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff1f\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// \u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u304c\u53ef\u80fd\u3067\u3042\u308b\u3068\u4eee\u5b9a\u3057\u307e\u3059\nObject.prototype.innerHTML = "<img src=x onerror=alert(1)>";\n\n// \u4ee5\u4e0b\u306f\u4ee5\u524d\u3068\u540c\u3058\u3067\u3059\nvar qs = new URLSearchParams(location.search.slice(1));\n\ndocument.body.appendChild(\n  createElement({\n    tag: "h2",\n    innerText: `Search result for ${qs.get("q")}`,\n  })\n);\n\nfunction createElement(config) {\n  const element = document.createElement(config.tag);\n  // \u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3055\u308c\u305finnerHTML\u306e\u305f\u3081\u3001if(config.innerHTML)\u306ftrue\u306b\u306a\u308a\u307e\u3059\n  if (config.innerHTML) {\n    element.innerHTML = config.innerHTML;\n  } else {\n    element.innerText = config.innerText;\n  }\n  return element;\n}\n')),(0,r.kt)("p",null,"\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306e\u552f\u4e00\u306e\u9055\u3044\u306f\u3001\u5192\u982d\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.innerHTML = '<img src=x onerror=alert(1)>'")," \u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u884c\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"innerHTML")," \u3092\u6c5a\u67d3\u3057\u305f\u3060\u3051\u3067\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"if (config.innerHTML) {")," \u306e\u6761\u4ef6\u304ctrue\u3068\u8a55\u4fa1\u3055\u308c\u3001\u52d5\u4f5c\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\u5143\u3005\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"innerText")," \u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"innerHTML")," \u306b\u5909\u66f4\u3055\u308c\u3001\u6700\u7d42\u7684\u306bXSS\u653b\u6483\u304c\u9054\u6210\u3055\u308c\u307e\u3057\u305f\uff01"),(0,r.kt)("p",null,"\u3053\u308c\u306f\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306b\u3088\u3063\u3066\u5f15\u304d\u8d77\u3053\u3055\u308c\u308bXSS\u653b\u6483\u3067\u3059\u3002\u4e00\u822c\u7684\u306b\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3068\u306f\u3001\u653b\u6483\u8005\u304c\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u4e0a\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3067\u304d\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8106\u5f31\u6027\u3092\u6307\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u6c5a\u67d3\u306b\u52a0\u3048\u3066\u3001\u5b8c\u5168\u306a\u653b\u6483\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u5834\u6240\u3092\u898b\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3053\u306e\u6642\u70b9\u3067\u3001\u653b\u6483\u8005\u304c\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u4e0a\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3067\u304d\u308b\u8106\u5f31\u6027\u3092\u6301\u3064\u30b3\u30fc\u30c9\u306e\u7a2e\u985e\u306b\u3064\u3044\u3066\u8208\u5473\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002"),(0,r.kt)("h2",{id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306f\u3069\u306e\u3088\u3046\u306b\u767a\u751f\u3059\u308b\u306e\u304b"},"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306f\u3069\u306e\u3088\u3046\u306b\u767a\u751f\u3059\u308b\u306e\u304b\uff1f"),(0,r.kt)("p",null,"\u3053\u306e\u7a2e\u306e\u554f\u984c\u304c\u3088\u304f\u767a\u751f\u3059\u308b\u30b7\u30ca\u30ea\u30aa\u306f2\u3064\u3042\u308a\u307e\u3059\u30021\u3064\u76ee\u306f\u30af\u30a8\u30ea\u6587\u5b57\u5217\u306e\u89e3\u6790\u3067\u3059\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"?a=1&b=2")," \u306e\u3088\u3046\u306a\u30af\u30a8\u30ea\u6587\u5b57\u5217\u306f\u5358\u7d14\u3060\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u5b9f\u969b\u306b\u306f\u3001\u591a\u304f\u306e\u30af\u30a8\u30ea\u6587\u5b57\u5217\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u914d\u5217\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"?a=1&a=2")," \u3084 ",(0,r.kt)("inlineCode",{parentName:"p"},"?a[]=1&a[]=2")," \u306e\u3088\u3046\u306b\u914d\u5217\u3068\u3057\u3066\u89e3\u6790\u3067\u304d\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u914d\u5217\u4ee5\u5916\u306b\u3082\u3001\u6b21\u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u3042\u308a\u307e\u3059\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"?a[b][c]=1"),"\u3002\u3053\u308c\u306b\u3088\u308a\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"{a: {b: {c: 1}}}")," \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u4f8b\u3048\u3070\u3001",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ljharb/qs#parsing-objects"},"qs"),"\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u89e3\u6790\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3053\u306e\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u62c5\u5f53\u3059\u308b\u5834\u5408\u3001\u3069\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u304b\uff1f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u307f\u3092\u51e6\u7406\u3059\u308b\u57fa\u672c\u7684\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u59cb\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff08URL\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3084\u914d\u5217\u306f\u8003\u616e\u3057\u307e\u305b\u3093\uff09\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'function parseQs(qs) {\n  let result = {};\n  let arr = qs.split("&");\n  for (let item of arr) {\n    let [key, value] = item.split("=");\n    if (!key.endsWith("]")) {\n      // \u901a\u5e38\u306e\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u306e\u5834\u5408\n      result[key] = value;\n      continue;\n    }\n\n    // \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5834\u5408\n    let items = key.split("[");\n    let obj = result;\n    for (let i = 0; i < items.length; i++) {\n      let objKey = items[i].replace(/]$/g, "");\n      if (i === items.length - 1) {\n        obj[objKey] = value;\n      } else {\n        if (typeof obj[objKey] !== "object") {\n          obj[objKey] = {};\n        }\n        obj = obj[objKey];\n      }\n    }\n  }\n  return result;\n}\n\nvar qs = parseQs("test=1&a[b][c]=2");\nconsole.log(qs);\n// { test: \'1\', a: { b: { c: \'2\' } } }\n')),(0,r.kt)("p",null,"\u57fa\u672c\u7684\u306b\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"[]")," \u5185\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u57fa\u3065\u3044\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u69cb\u7bc9\u3057\u3001\u30ec\u30a4\u30e4\u30fc\u3054\u3068\u306b\u5024\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002\u5358\u7d14\u306b\u898b\u3048\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3057\u304b\u3057\u5f85\u3063\u3066\u304f\u3060\u3055\u3044\uff01\u30af\u30a8\u30ea\u6587\u5b57\u5217\u304c\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u72b6\u6cc1\u304c\u5909\u308f\u308a\u307e\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var qs = parseQs("__proto__[a]=3");\nconsole.log(qs); // {}\n\nvar obj = {};\nconsole.log(obj.a); // 3\n')),(0,r.kt)("p",null,"\u30af\u30a8\u30ea\u6587\u5b57\u5217\u304c\u3053\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"parseQs")," \u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"obj.__proto__.a")," \u306e\u5024\u3092\u5909\u66f4\u3057\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3092\u5f15\u304d\u8d77\u3053\u3057\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u5f8c\u3067\u7a7a\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5ba3\u8a00\u3057\u3066 ",(0,r.kt)("inlineCode",{parentName:"p"},"obj.a")," \u3092\u51fa\u529b\u3059\u308b\u3068\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u304c\u6c5a\u67d3\u3055\u308c\u3066\u3044\u308b\u305f\u30813\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u591a\u304f\u306e\u30af\u30a8\u30ea\u6587\u5b57\u5217\u89e3\u6790\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u540c\u69d8\u306e\u554f\u984c\u306b\u906d\u9047\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306b\u3044\u304f\u3064\u304b\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-JQUERYDEPARAM-1255651"},"jquery-deparam")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-BACKBONEQUERYPARAMETERS-1290381"},"backbone-query-parameters")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-JQUERYQUERYOBJECT-1255650"},"jquery-query-object"))),(0,r.kt)("p",null,"\u30af\u30a8\u30ea\u6587\u5b57\u5217\u306e\u89e3\u6790\u4ee5\u5916\u306b\u3082\u3001\u3053\u306e\u554f\u984c\u304c\u3088\u304f\u767a\u751f\u3059\u308b\u3082\u30461\u3064\u306e\u4e00\u822c\u7684\u306a\u30b7\u30ca\u30ea\u30aa\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30de\u30fc\u30b8\u3067\u3059\u3002\u5358\u7d14\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30de\u30fc\u30b8\u95a2\u6570\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'function merge(a, b) {\n  for (let prop in b) {\n    if (typeof a[prop] === "object") {\n      merge(a[prop], b[prop]);\n    } else {\n      a[prop] = b[prop];\n    }\n  }\n}\n\nvar config = {\n  a: 1,\n  b: {\n    c: 2,\n  },\n};\n\nvar customConfig = {\n  b: {\n    d: 3,\n  },\n};\n\nmerge(config, customConfig);\nconsole.log(config);\n// { a: 1, b: { c: 2, d: 3 } }\n')),(0,r.kt)("p",null,"\u4e0a\u8a18\u306e ",(0,r.kt)("inlineCode",{parentName:"p"},"customConfig")," \u304c\u5236\u5fa1\u53ef\u80fd\u306a\u5834\u5408\u3001\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var config = {\n  a: 1,\n  b: {\n    c: 2,\n  },\n};\n\nvar customConfig = JSON.parse(\'{"__proto__": {"a": 1}}\');\nmerge(config, customConfig);\n\nvar obj = {};\nconsole.log(obj.a);\n')),(0,r.kt)("p",null,"\u3053\u3053\u3067 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSON.parse")," \u3092\u4f7f\u7528\u3059\u308b\u306e\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u76f4\u63a5\u8a18\u8ff0\u3059\u308b\u3068\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var customConfig = {\n  __proto__: {\n    a: 1,\n  },\n};\n")),(0,r.kt)("p",null,"\u6a5f\u80fd\u3057\u306a\u3044\u305f\u3081\u3067\u3059\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"customConfig")," \u306f\u7a7a\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3057\u304b\u306a\u308a\u307e\u305b\u3093\u3002\u30ad\u30fc\u304c ",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__")," \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"JSON.parse")," \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var obj1 = {\n  __proto__: {\n    a: 1,\n  },\n};\nvar obj2 = JSON.parse(\'{"__proto__": {"a": 1}}\');\nconsole.log(obj1); // {}\nconsole.log(obj2); // { __proto__: { a: 1 } }\n')),(0,r.kt)("p",null,"\u540c\u69d8\u306b\u3001\u591a\u304f\u306e\u30de\u30fc\u30b8\u95a2\u9023\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3053\u306e\u8106\u5f31\u6027\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306b\u3044\u304f\u3064\u304b\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-MERGE-1040469"},"merge")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-LODASHMERGE-173733"},"lodash.merge")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-PLAINOBJECTMERGE-1085643"},"plain-object-merge"))),(0,r.kt)("p",null,"\u3053\u308c\u3089\u4ee5\u5916\u306b\u3082\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u64cd\u4f5c\u3059\u308b\u307b\u3068\u3093\u3069\u3059\u3079\u3066\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u540c\u69d8\u306e\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-IMMER-1019369"},"immer")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-MOOTOOLS-1325536"},"mootools")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://snyk.io/vuln/SNYK-JS-IOREDIS-1567196"},"ioredis"))),(0,r.kt)("p",null,"\u524d\u56de\u306e\u8a18\u4e8b\u306e\u6700\u5f8c\u306b\u63d0\u793a\u3057\u305f\u30af\u30a4\u30ba\u3082\u8106\u5f31\u306a\u9818\u57df\u3067\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"onmessage = function (event) {\n  const { x, y, color } = event.data;\n  // \u4f8b\u3048\u3070\u3001screen[10][5] = 'red'\n  screen[y][x] = color;\n};\n")),(0,r.kt)("p",null,"\u653b\u6483\u8005\u306f ",(0,r.kt)("inlineCode",{parentName:"p"},"{y: '__proto__', x: 'test', color: '123'}")," \u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u306e\u7d50\u679c ",(0,r.kt)("inlineCode",{parentName:"p"},"screen.__proto__.test = '123'")," \u3068\u306a\u308a\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.test")," \u3092\u6c5a\u67d3\u3057\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u6e21\u3055\u308c\u308b\u5024\u306b\u3064\u3044\u3066\u306f\u3001\u691c\u8a3c\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u975e\u5e38\u306b\u91cd\u8981\u3067\u3059\u3002"),(0,r.kt)("p",null,"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u6240\u304c\u308f\u304b\u3063\u305f\u3068\u3053\u308d\u3067\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u4e0a\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3059\u308b\u3060\u3051\u3067\u306f\u5341\u5206\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u5f71\u97ff\u3092\u53d7\u3051\u308b\u53ef\u80fd\u6027\u306e\u3042\u308b\u9818\u57df\u3001\u3064\u307e\u308a\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u6c5a\u67d3\u3055\u308c\u305f\u5f8c\u306b\u52d5\u4f5c\u304c\u5909\u5316\u3059\u308b\u5834\u6240\u3092\u7279\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u653b\u6483\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002"),(0,r.kt)("h2",{id:"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u30b9\u30af\u30ea\u30d7\u30c8\u30ac\u30b8\u30a7\u30c3\u30c8"},"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u30b9\u30af\u30ea\u30d7\u30c8\u30ac\u30b8\u30a7\u30c3\u30c8"),(0,r.kt)("p",null,"\u3053\u308c\u3089\u306e\u300c\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u3092\u6c5a\u67d3\u3059\u308c\u3070\u60aa\u7528\u3067\u304d\u308b\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u300d\u306f\u30b9\u30af\u30ea\u30d7\u30c8\u30ac\u30b8\u30a7\u30c3\u30c8\u3068\u547c\u3070\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30ac\u30b8\u30a7\u30c3\u30c8\u3092\u53ce\u96c6\u3059\u308b\u3053\u3068\u306b\u7279\u5316\u3057\u305fGitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308a\u307e\u3059\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://github.com/BlackFan/client-side-prototype-pollution"},"Client-Side Prototype Pollution"),"\u3002\u3053\u308c\u3089\u306e\u30ac\u30b8\u30a7\u30c3\u30c8\u306e\u4e2d\u306b\u306f\u60f3\u50cf\u3082\u3064\u304b\u306a\u3044\u3082\u306e\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u30c7\u30e2\u30f3\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3057\u307e\u3057\u3087\u3046\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <script src="https://unpkg.com/vue@2.7.14/dist/vue.js"><\/script>\n  </head>\n  <body>\n    <div id="app">{{ message }}</div>\n    <script>\n      // \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6c5a\u67d3\u3057\u307e\u3059\n      Object.prototype.template = "<svg onload=alert(1)></svg>";\n      var app = new Vue({\n        el: "#app",\n        data: {\n          message: "Hello Vue!",\n        },\n      });\n    <\/script>\n  </body>\n</html>\n')),(0,r.kt)("p",null,"\u4e00\u898b\u7121\u5bb3\u306aVue\u306e\u30cf\u30ed\u30fc\u30ef\u30fc\u30eb\u30c9\u30b3\u30fc\u30c9\u3067\u3059\u304c\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.template")," \u3092\u6c5a\u67d3\u3057\u305f\u5f8c\u3001\u4efb\u610f\u306e\u30b3\u30fc\u30c9\u3092\u6ce8\u5165\u3067\u304d\u308bXSS\u8106\u5f31\u6027\u306b\u306a\u308a\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u307e\u305f\u306f\u3053\u306e\u3088\u3046\u306b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/sanitize-html/1.27.5/sanitize-html.min.js"><\/script>\n  </head>\n  <body>\n    <script>\n      Object.prototype.innerText = "<svg onload=alert(1)></svg>";\n      document.write(sanitizeHtml("<div>hello</div>"));\n    <\/script>\n  </body>\n</html>\n')),(0,r.kt)("p",null,"\u3053\u308c\u306f\u5165\u529b\u3092\u30b5\u30cb\u30bf\u30a4\u30ba\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u304c\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.innerText")," \u3092\u6c5a\u67d3\u3057\u305f\u5f8c\u3001XSS\u653b\u6483\u306b\u5f79\u7acb\u3064\u30c4\u30fc\u30eb\u306b\u306a\u308a\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u306a\u305c\u3053\u308c\u3089\u306e\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f",(0,r.kt)("inlineCode",{parentName:"p"},"sanitize-html")," \u306e\u4f8b\u3092\u6319\u3052\u308b\u3068\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306e\u4e00\u90e8\u304c\u3042\u308b\u305f\u3081\u3067\u3059\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"if (frame.innerText && !hasText && !options.textFilter) {\n  result += frame.innerText;\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"innerText")," \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5b89\u5168\u306a\u6587\u5b57\u5217\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u76f4\u63a5\u9023\u7d50\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6c5a\u67d3\u3059\u308b\u3068\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u304b\u3089\u306e\u5024\u304c\u4f7f\u7528\u3055\u308c\u3001XSS\u304c\u767a\u751f\u3057\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u8106\u5f31\u6027\u306b\u52a0\u3048\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u5074\u306b\u3082\u540c\u69d8\u306e\u30ea\u30b9\u30af\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const child_process = require("child_process");\nconst params = ["123"];\nconst result = child_process.spawnSync("echo", params);\nconsole.log(result.stdout.toString()); // 123\n')),(0,r.kt)("p",null,"\u3053\u308c\u306f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"echo")," \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u5358\u7d14\u306a\u30b3\u30fc\u30c9\u3067\u3059\u3002\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u81ea\u52d5\u7684\u306b\u51e6\u7406\u3055\u308c\u308b\u305f\u3081\u3001\u30b3\u30de\u30f3\u30c9\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u5fc3\u914d\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const child_process = require("child_process");\nconst params = ["123 && ls"];\nconst result = child_process.spawnSync("echo", params);\nconsole.log(result.stdout.toString()); // 123 && ls\n')),(0,r.kt)("p",null,"\u305f\u3060\u3057\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u8106\u5f31\u6027\u304c\u3042\u308b\u5834\u5408\u3001RCE\uff08\u30ea\u30e2\u30fc\u30c8\u30b3\u30fc\u30c9\u5b9f\u884c\uff09\u306b\u5909\u63db\u3055\u308c\u3001\u653b\u6483\u8005\u304c\u4efb\u610f\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff08\u653b\u6483\u8005\u304c\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5236\u5fa1\u3067\u304d\u308b\u3068\u4eee\u5b9a\uff09\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const child_process = require("child_process");\nconst params = ["123 && ls"];\nObject.prototype.shell = true; // \u3053\u306e\u884c\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\nconst result = child_process.spawnSync("echo", params, { timeout: 1000 });\nconsole.log(result.stdout.toString());\n/*\n123\nindex.js\nnode_modules\npackage-lock.json\npackage.json\n*/\n')),(0,r.kt)("p",null,"\u3053\u308c\u306f\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"child_process.spawn")," \u306e3\u756a\u76ee\u306e\u30d1\u30e9\u30e1\u30fc\u30bf ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," \u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"shell")," \u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u3001true\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u52d5\u4f5c\u304c\u7570\u306a\u308b\u305f\u3081\u3067\u3059\u3002\u516c\u5f0f",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"},"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"),"\u306b\u3082\u6b21\u306e\u3088\u3046\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"shell\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u306a\u5834\u5408\u3001\u30b5\u30cb\u30bf\u30a4\u30ba\u3055\u308c\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092\u3053\u306e\u95a2\u6570\u306b\u6e21\u3055\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30b7\u30a7\u30eb\u30e1\u30bf\u6587\u5b57\u3092\u542b\u3080\u5165\u529b\u306f\u3001\u4efb\u610f\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3092\u30c8\u30ea\u30ac\u30fc\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002")),(0,r.kt)("p",null,"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3068\u30b9\u30af\u30ea\u30d7\u30c8\u30ac\u30b8\u30a7\u30c3\u30c8\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"child_process.spawn"),"\uff09\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u975e\u5e38\u306b\u91cd\u5927\u306a\u8106\u5f31\u6027\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002"),(0,r.kt)("h2",{id:"\u4e2d\u9593\u307e\u3068\u3081"},"\u4e2d\u9593\u307e\u3068\u3081"),(0,r.kt)("p",null,"\u524d\u8ff0\u306e\u3088\u3046\u306b\u3001\u3059\u3079\u3066\u306e\u653b\u6483\u624b\u6cd5\u304cJavaScript\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u8106\u5f31\u6027\u306f\u3001\u4e00\u898b\u3059\u308b\u3068\u91cd\u8981\u3067\u306f\u306a\u3044\u3088\u3046\u306b\u898b\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5358\u306b ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype")," \u306b\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u305d\u308c\u304c\u4f55\u3060\u3068\u3044\u3046\u306e\u3067\u3057\u3087\u3046\u304b\uff1f"),(0,r.kt)("p",null,"\u3057\u304b\u3057\u3001\u4ed6\u306e\u30b3\u30fc\u30c9\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\u3001\u65e2\u5b58\u306e\u5b9f\u884c\u30d5\u30ed\u30fc\u3068\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u4eee\u5b9a\u3092\u7834\u58ca\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u4e00\u898b\u7121\u5bb3\u306a\u30b3\u30fc\u30c9\u3092\u8106\u5f31\u306a\u30b3\u30fc\u30c9\u306b\u5909\u3048\u3001XSS\u3084RCE\u306a\u3069\u306e\u8106\u5f31\u6027\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u306e\u8106\u5f31\u6027\u306e\u691c\u51fa\u3092\u81ea\u52d5\u5316\u3057\u3001\u554f\u984c\u306e\u3042\u308b\u9818\u57df\u3092\u7279\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3092\u5225\u306e\u30ec\u30d9\u30eb\u306b\u5f15\u304d\u4e0a\u3052\u305f\u4eba\u3082\u3044\u307e\u3059\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://blog.s1r1us.ninja/research/PP"},"A tale of making internet pollution free - Exploiting Client-Side Prototype Pollution in the wild"),"\u3002\u7814\u7a76\u6210\u679c\u306b\u52a0\u3048\u3066\u3001\u305d\u306e\u80cc\u5f8c\u306b\u3042\u308b\u7814\u7a76\u30c1\u30fc\u30e0\u306b\u3082\u6ce8\u76ee\u3059\u308b\u4fa1\u5024\u304c\u3042\u308a\u307e\u3059\u3002\u5f7c\u3089\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u30aa\u30fc\u30eb\u30b9\u30bf\u30fc\u30c1\u30fc\u30e0\u3068\u898b\u306a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3053\u306e\u8106\u5f31\u6027\u306b\u521d\u3081\u3066\u906d\u9047\u3057\u305f\u3068\u304d\u3001\u300c\u5168\u304f\u65b0\u3057\u3044\u4e16\u754c\u300d\u3068\u3044\u3046\u611f\u899a\u3092\u899a\u3048\u307e\u3057\u305f\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u3067\u8ab0\u3082\u304c\u3088\u304f\u77e5\u3063\u3066\u3044\u308b\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306e\u6982\u5ff5\u304c\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5206\u91ce\u3067\u306f\u4e00\u822c\u7684\u306a\u653b\u6483\u624b\u6cd5\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u306f\u3002\u306a\u305c\u4ee5\u524d\u3053\u308c\u3092\u77e5\u3089\u306a\u304b\u3063\u305f\u306e\u3060\u308d\u3046\u304b\uff1f\u305d\u3057\u3066\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u6c5a\u67d3\u3060\u3051\u3067\u306a\u304f\u3001\u4ed6\u306e\u591a\u304f\u306e\u8106\u5f31\u6027\u3082\u540c\u3058\u611f\u899a\u3092\u4e0e\u3048\u3066\u304f\u308c\u307e\u3059\u3002"),(0,r.kt)("p",null,"\u3053\u308c\u3082\u3001\u3053\u306e\u30b7\u30ea\u30fc\u30ba\u306e\u8a18\u4e8b\u3092\u66f8\u304d\u305f\u3044\u3068\u601d\u3063\u305f\u7406\u7531\u306e1\u3064\u3067\u3059\u3002\u3088\u308a\u591a\u304f\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304a\u3088\u3073JavaScript\u958b\u767a\u8005\u306b\u3001\u3055\u307e\u3056\u307e\u306a\u653b\u6483\u624b\u6cd5\u3092\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u3044\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002"),(0,r.kt)("p",null,"\uff08\u3053\u306e\u8a18\u4e8b\u306f\u3001\u4ee5\u524d\u306b\u516c\u958b\u3057\u305f\u8a18\u4e8b\u300c",(0,r.kt)("a",{parentName:"p",href:"https://blog.huli.tw/2021/09/29/prototype-pollution/"},"JS\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30c1\u30a7\u30fc\u30f3\u306b\u57fa\u3065\u304f\u653b\u6483\u624b\u6cd5\uff1aPrototype Pollution"),"\u300d\u3092\u66f8\u304d\u76f4\u3057\u305f\u3082\u306e\u3067\u3059\u3002\uff09"))}k.isMDXComponent=!0},5160:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/14-01-56d2e8504448a0a4e6c53d65eb54dc12.png"},415:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/14-02-2379fc35fbe5c1ccc2194ecde5a14fc0.png"}}]);