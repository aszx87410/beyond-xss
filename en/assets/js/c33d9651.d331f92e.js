"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[91],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),d=i,f=u["".concat(l,".").concat(d)]||u[d]||h[d]||r;return n?a.createElement(f,o(o({ref:t},p),{},{components:n})):a.createElement(f,o({ref:t},p))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1846:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:30},o="Web Frontend Attacks in Web3",s={unversionedId:"ch5/web3-attacks",id:"ch5/web3-attacks",title:"Web Frontend Attacks in Web3",description:"When it comes to Web3, most people think of things like cryptocurrencies, metaverses, or NFTs. These are all built on the underlying technologies of blockchain and smart contracts, which form a completely different system.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/ch5/30-web3-attacks.md",sourceDirName:"ch5",slug:"/ch5/web3-attacks",permalink:"/beyond-xss/en/ch5/web3-attacks",draft:!1,tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Frontend Supply Chain Attacks: Attacking Downstream from Upstream",permalink:"/beyond-xss/en/ch5/supply-chain-attack"},next:{title:"The Most Interesting Frontend Side-Channel Attack: XSLeaks (Part 1)",permalink:"/beyond-xss/en/ch5/xsleaks-1"}},l={},c=[{value:"More Impactful XSS",id:"more-impactful-xss",level:2},{value:"Practical Application of Cookie Bomb",id:"practical-application-of-cookie-bomb",level:2},{value:"Conclusion",id:"conclusion",level:2}],p={toc:c},u="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(u,(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"web-frontend-attacks-in-web3"},"Web Frontend Attacks in Web3"),(0,i.kt)("p",null,"When it comes to Web3, most people think of things like cryptocurrencies, metaverses, or NFTs. These are all built on the underlying technologies of blockchain and smart contracts, which form a completely different system."),(0,i.kt)("p",null,"However, let's not forget that the Web3 world still needs an entry point, and that entry point is Web2 \u2014 the familiar web we know."),(0,i.kt)("p",null,"In this article, we will explore several real-world examples of attacks on the Web3 world from the perspective of Web2."),(0,i.kt)("h2",{id:"more-impactful-xss"},"More Impactful XSS"),(0,i.kt)("p",null,"In a typical website, if an XSS vulnerability is successfully exploited, the attacker can usually steal user data such as phone numbers, emails, or names."),(0,i.kt)("p",null,"But what if an XSS vulnerability is found in the Web3 world? Besides stealing data, it could potentially lead to the theft of something more valuable\u2014cryptocurrencies."),(0,i.kt)("p",null,"In the world of cryptocurrencies, everyone has their own wallet, and one of the most well-known wallets in the browser is Metamask. When you need to authorize a transaction or sign a message, you will see the following interface:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(2569).Z,width:"360",height:"618"})),(0,i.kt)("p",null,"If it's a transaction or authorization for a smart contract, you will see the contract address and other details."),(0,i.kt)("p",null,'We all know not to blindly accept transactions from unknown sources or ignore suspicious websites. But what if it\'s a well-known website like PancakeSwap? When you perform an action on such a website and click "Confirm", Metamask pops up a prompt asking you to approve the transaction. I believe that 90% of people would simply click "Confirm".'),(0,i.kt)("p",null,"However, due to this small click, you could potentially lose a large amount of cryptocurrency."),(0,i.kt)("p",null,'The act of "signing a transaction" is actually a website calling the wallet\'s provided API through JavaScript and prompting the wallet\'s interface. Only when the user clicks "Approve" will the transaction be signed using the private key, making the transaction valid.'),(0,i.kt)("p",null,"Therefore, in the Web3 world, if a hacker gains control over the execution of JavaScript, they can execute a malicious transaction on a seemingly legitimate website. When the user agrees, they may unknowingly authorize their cryptocurrencies to the hacker's smart contract, resulting in the theft of their funds."),(0,i.kt)("p",null,"For example, in 2022, a JavaScript file on a NFT website called PREMINT was compromised, causing some users to unintentionally authorize the hacker's smart contract. For more details, please refer to: ",(0,i.kt)("a",{parentName:"p",href:"https://www.certik.com/resources/blog/77oaazrsx1mewnraJePYQI-premint-nft-incident-analysis"},"PREMINT NFT Incident Analysis")),(0,i.kt)("p",null,"When you find a website vulnerable to XSS, you can only attack that specific website. However, if you find vulnerabilities in libraries used by multiple websites, the impact becomes much greater."),(0,i.kt)("p",null,"The previously mentioned supply chain attacks can also be applied to Web3 websites. Next, let's discuss an article published by Sam Curry in 2022: ",(0,i.kt)("a",{parentName:"p",href:"https://samcurry.net/universal-xss-on-netlifys-next-js-library/"},"Exploiting Web3\u2019s Hidden Attack Surface: Universal XSS on Netlify\u2019s Next.js Library")),(0,i.kt)("p",null,"In the article, he describes finding vulnerabilities in the Next.js library and @netlify/ipx, which allow XSS attacks on any website using these libraries."),(0,i.kt)("p",null,"Netlify is a popular platform for deploying websites, especially for Web3 websites that may be static pages without a traditional backend. All page functionalities can be achieved through HTML, CSS, and JavaScript without the need for backend APIs."),(0,i.kt)("p",null,"Therefore, through this vulnerability, it is possible to attack well-known websites like Gemini or PancakeSwap, using XSS to prompt the authorization interface of a smart contract and deceive users into clicking."),(0,i.kt)("h2",{id:"practical-application-of-cookie-bomb"},"Practical Application of Cookie Bomb"),(0,i.kt)("p",null,"The previously mentioned cookie bomb also has new implications in the Web3 world."),(0,i.kt)("p",null,"In an article published by OtterSec in 2023: ",(0,i.kt)("a",{parentName:"p",href:"https://osec.io/blog/2023-08-11-web2-bug-repellant-instructions"},"Web2 Bug Repellant Instructions"),", they mention real-world examples."),(0,i.kt)("p",null,"Many websites now support image uploads, and some even allow SVG files."),(0,i.kt)("p",null,"So, what's the difference between SVG and other image formats? The difference is that SVG files can execute scripts, like the example below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-svg"},'<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n  <script type="text/javascript">\n    alert("Hello");\n  <\/script>\n</svg>\n')),(0,i.kt)("p",null,"Therefore, if a website supports SVG uploads, there is a high chance of exploiting an XSS vulnerability using SVG."),(0,i.kt)("p",null,"However, there is one problem. Many image upload locations are separated from the main website, such as directly uploading to S3 without any specific domain configuration. So at best, you would only achieve an XSS on the image domain, which has limited impact."),(0,i.kt)("p",null,"However, it is different for NFT websites."),(0,i.kt)("p",null,"For NFT websites, images are an important part. If the images cannot be displayed, the usability of the entire website will be significantly affected. Therefore, using a cookie bomb to perform a DoS attack on the images has a greater impact on NFT websites."),(0,i.kt)("p",null,"The severity and impact of the same vulnerability can vary for different types of products."),(0,i.kt)("p",null,"For example, both a DoS vulnerability can temporarily crash a webpage, which may not be a big deal for a Christmas event webpage last year, but it can cause significant losses for a cryptocurrency exchange."),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"In this article, we have seen that Web3 products still need to face the same security issues as traditional web pages and must be protected. If not properly protected, even if the intrusion is not into smart contracts, it can still cause certain damages."),(0,i.kt)("p",null,"The attack surface of Web3 is not limited to smart contracts. Traditional web security, phishing attacks, and private key security are all areas that need to be defended against."),(0,i.kt)("p",null,"Thanks to ",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/BrunoModificato"},"@BrunoModificato")," for providing the idea for this article."))}h.isMDXComponent=!0},2569:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/30-01-4d88bac101815b874305f822c1adc4f1.png"}}]);